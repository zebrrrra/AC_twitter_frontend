(this.webpackJsonpac_twitter_frontend=this.webpackJsonpac_twitter_frontend||[]).push([[0],{14:function(e,t,n){e.exports={navbarContainer:"Navbars_navbarContainer__knP31",NavbarLogo:"Navbars_NavbarLogo__1i_LS",NavbarPng:"Navbars_NavbarPng__26D-H",NavbarGroup:"Navbars_NavbarGroup__1osMd",NavbarItem:"Navbars_NavbarItem__3QJ8g",active:"Navbars_active__295ov",NavbarButton:"Navbars_NavbarButton__1zEHy",logout:"Navbars_logout__pcmKv"}},16:function(e,t,n){e.exports={background:"ReplyModal_background__wwtTk",container:"ReplyModal_container__1pxND",buttonContainer:"ReplyModal_buttonContainer__1OB_r",ContentContainer:"ReplyModal_ContentContainer__22XVl",leftContainer:"ReplyModal_leftContainer__1Zwjm",top:"ReplyModal_top__1eRiZ",down:"ReplyModal_down__1ed8P",avatarContainer:"ReplyModal_avatarContainer__2Y8in",rightContainer:"ReplyModal_rightContainer__1aX0Z",rightTopContainer:"ReplyModal_rightTopContainer__2Wbho",name:"ReplyModal_name__2o7CF",introduction:"ReplyModal_introduction__Ih0Ul",hint:"ReplyModal_hint__1don_",rightBottomContainer:"ReplyModal_rightBottomContainer__2BHOb",ReplyButtonContainer:"ReplyModal_ReplyButtonContainer__35B9Q",tweetText:"ReplyModal_tweetText__bJb-g"}},19:function(e,t,n){e.exports={container:"MainTweet_container__26X4E",tweetContainer:"MainTweet_tweetContainer__ZeFhm",titleContainer:"MainTweet_titleContainer__39vr_",nameContainer:"MainTweet_nameContainer__hACkl",name:"MainTweet_name__2LwN0",account:"MainTweet_account__zXOWd",introduction:"MainTweet_introduction__2walZ",time:"MainTweet_time__36tCC",avatarContainer:"MainTweet_avatarContainer__2z3rY",dataContainer:"MainTweet_dataContainer__23nbM",data:"MainTweet_data__3sS1F",iconContainer:"MainTweet_iconContainer__qnshI",isLikeIcon:"MainTweet_isLikeIcon__3sLlR",likeIcon:"MainTweet_likeIcon__2wKBO"}},194:function(e,t,n){e.exports={container:"MainTweet_container__Wga_1",tweetContainer:"MainTweet_tweetContainer__1FjL_",titleContainer:"MainTweet_titleContainer__2BycH",nameContainer:"MainTweet_nameContainer__z0HmK",name:"MainTweet_name__3yS0z",account:"MainTweet_account__Uq3Zw",introduction:"MainTweet_introduction__-Wn9Q",time:"MainTweet_time__gdYiC",avatarContainer:"MainTweet_avatarContainer__24G1V",dataContainer:"MainTweet_dataContainer__bcESp",data:"MainTweet_data__369t_",iconContainer:"MainTweet_iconContainer__1c-kO"}},197:function(e,t,n){e.exports={recommendListContainer:"RecommendList_recommendListContainer__3JRnS",recommendCard:"RecommendList_recommendCard__uIEJ6",avatar:"RecommendList_avatar__2U_-k",userInfo:"RecommendList_userInfo__2ZNf5",name:"RecommendList_name__1E5MG",userName:"RecommendList_userName__1KwFj",buttonFollowing:"RecommendList_buttonFollowing___nlWl",buttonFollower:"RecommendList_buttonFollower__wPHjW"}},198:function(e,t,n){e.exports={adminUserContainer:"AdminUserList_adminUserContainer__2brnB"}},205:function(e,t,n){},21:function(e,t,n){e.exports={tweetCardContainer:"TweetCard_tweetCardContainer__2qp7f",tweetCard:"TweetCard_tweetCard__28EhE",avatar:"TweetCard_avatar__ZhLwc",contentContainer:"TweetCard_contentContainer__2qBLT",nameAndUserId:"TweetCard_nameAndUserId__33uXo",name:"TweetCard_name__3OeDh",userIdTime:"TweetCard_userIdTime__2KWGw",tweet:"TweetCard_tweet__2yU1r",replyContainer:"TweetCard_replyContainer__3_UmQ",reply:"TweetCard_reply__1YKwO",replyId:"TweetCard_replyId__2WYM7",countContainer:"TweetCard_countContainer__1GyB6",count:"TweetCard_count__Xr1Nt",replyIcon:"TweetCard_replyIcon__ltbyh",isLikeIcon:"TweetCard_isLikeIcon__2PVtD",likeIcon:"TweetCard_likeIcon__37OGE"}},227:function(e,t){},229:function(e,t){},23:function(e,t,n){e.exports={tabContainer:"Tab_tabContainer__3jJeV",tab:"Tab_tab__1Hu8u",active:"Tab_active__2dgnE"}},238:function(e,t){},24:function(e,t,n){e.exports={inputGroupDefault:"AuthInput_inputGroupDefault__2nodl",inputGroupError:"AuthInput_inputGroupError__2k9B4",input:"AuthInput_input__oP2nk",label:"AuthInput_label__CHgDX",small:"AuthInput_small__3geMK",hint:"AuthInput_hint__2l5Ir",hintLeft:"AuthInput_hintLeft__2sBc0",hintRight:"AuthInput_hintRight__E8hHy"}},240:function(e,t){},25:function(e,t,n){e.exports={grayBackground:"EditModal_grayBackground__YZV8N",container:"EditModal_container__3hOXN",header:"EditModal_header__1GYP3",leftContainer:"EditModal_leftContainer__3UHwh",saveButton:"EditModal_saveButton__1GUZW",uploadFormContainer:"EditModal_uploadFormContainer__3cFnz",bgContainer:"EditModal_bgContainer__oif8y",upload:"EditModal_upload__3bmhw",fork:"EditModal_fork__p5fQH",avatarContainer:"EditModal_avatarContainer__2ZI2f",avatar:"EditModal_avatar__6Xtit",inputContainer:"EditModal_inputContainer__WOO_B"}},26:function(e,t,n){e.exports={tweetCardContainer:"OpenTweet_tweetCardContainer__3ETNR",tweetCard:"OpenTweet_tweetCard__XAyvy",avatar:"OpenTweet_avatar__20ua2",contentContainer:"OpenTweet_contentContainer__3mZls",nameAndUserId:"OpenTweet_nameAndUserId__3Bcq9",name:"OpenTweet_name__3G1c-",userIdTime:"OpenTweet_userIdTime__1ijXi",tweet:"OpenTweet_tweet__2PWr-",replyContainer:"OpenTweet_replyContainer__2dWBv",reply:"OpenTweet_reply__3LyEO",replyId:"OpenTweet_replyId__2voNU",countContainer:"OpenTweet_countContainer__5699T",count:"OpenTweet_count__1pIqn",isLikeIcon:"OpenTweet_isLikeIcon__2Ubxk",likeIcon:"OpenTweet_likeIcon__3jqKT"}},268:function(e,t){},27:function(e,t,n){e.exports={container:"OtherUserInfo_container__zfkX_",bgContainer:"OtherUserInfo_bgContainer__3HOow",avatarContainer:"OtherUserInfo_avatarContainer__1gO0X",buttonContainer:"OtherUserInfo_buttonContainer__3z8w0",button:"OtherUserInfo_button__2RI41",textContainer:"OtherUserInfo_textContainer__2iE1y",name:"OtherUserInfo_name__18Ubr",account:"OtherUserInfo_account__1FutL",description:"OtherUserInfo_description__2MNQy",linkGroup:"OtherUserInfo_linkGroup__15ugE",link:"OtherUserInfo_link__3-aNT",buttonFollowing:"OtherUserInfo_buttonFollowing__CcIE1",buttonFollower:"OtherUserInfo_buttonFollower__PGVCg",bellOpen:"OtherUserInfo_bellOpen__7WqHu",bellClose:"OtherUserInfo_bellClose__2xU9B",emailContainer:"OtherUserInfo_emailContainer__3N-Gq"}},270:function(e,t){},271:function(e,t){},276:function(e,t){},278:function(e,t){},28:function(e,t,n){e.exports={tweetCardContainer:"LikeCard_tweetCardContainer__1lPxO",tweetCard:"LikeCard_tweetCard__1EVZf",avatar:"LikeCard_avatar__mDp0i",contentContainer:"LikeCard_contentContainer__2FIAu",nameAndUserId:"LikeCard_nameAndUserId__3SPIQ",name:"LikeCard_name__2WUBv",userIdTime:"LikeCard_userIdTime__3fxWS",tweet:"LikeCard_tweet__3mCcy",replyContainer:"LikeCard_replyContainer__2YDSL",reply:"LikeCard_reply__3nOFC",replyId:"LikeCard_replyId__3fKmG",countContainer:"LikeCard_countContainer__1NTsb",count:"LikeCard_count__r_6t6",replyIcon:"LikeCard_replyIcon__2Nsi2",isLikeIcon:"LikeCard_isLikeIcon__18jec",likeIcon:"LikeCard_likeIcon__ChvoK"}},29:function(e,t,n){e.exports={container:"AdminUserCard_container__k2M7O",bgContainer:"AdminUserCard_bgContainer__2HRwP",avatarContainer:"AdminUserCard_avatarContainer__2BPF0",iconContainer:"AdminUserCard_iconContainer__31LQV",icon:"AdminUserCard_icon__3f-B_",textContainer:"AdminUserCard_textContainer__2F26-",name:"AdminUserCard_name__1M_ph",account:"AdminUserCard_account__2Tg1z",description:"AdminUserCard_description__1ylpd",followGroup:"AdminUserCard_followGroup__kcS7m",follow:"AdminUserCard_follow__26kmw"}},297:function(e,t){},309:function(e,t){},312:function(e,t){},346:function(e,t){},347:function(e,t,n){"use strict";n.r(t);var a,r,c,o,i=n(1),s=n.n(i),l=n(195),u=n.n(l),d=(n(205),n(7)),j=n(6),b=n(2),m=n(4),p=n(3),f=n(45),O=n.n(f),h=["title","titleId"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C(e,t){var n=e.title,s=e.titleId,l=_(e,h);return i.createElement("svg",v({width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},l),n?i.createElement("title",{id:s},n):null,a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.6996 23.4709C30.6996 23.4709 23.2328 35.5781 17.1109 35.5781C6.40311 35.5781 16.382 12.5132 24.1916 12.5132C29.641 12.5132 30.6996 23.4709 30.6996 23.4709Z",fill:"#FF6600"})),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.5723 38.6972C37.4451 40.9607 34.8198 42.6976 31.9044 43.7701C28.989 44.8426 25.8639 45.2213 22.7767 44.8761C19.6895 44.5309 16.7252 43.4713 14.1188 41.7813C11.5125 40.0914 9.33573 37.8175 7.76123 35.1401C9.5314 37.5477 12.5338 39.1527 16.803 39.1527C27.3199 39.1527 33.2899 30.98 33.2899 30.98C33.2899 30.98 33.8062 37.4392 39.5593 38.6972H39.5723Z",fill:"#FF6600"})),c||(c=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.7223 15.7451C44.2963 18.7527 45.0781 22.1116 44.9939 25.505C44.9096 28.8984 43.9621 32.2144 42.2407 35.1401C40.8792 34.3764 39.8725 33.1082 39.4379 31.609L37.1558 24.7724L42.7223 15.7451Z",fill:"#FF6600"})),o||(o=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0031 5.01737C30.0185 5.01403 34.8513 6.89881 38.5398 10.2967L34.7521 16.4088C33.3811 12.843 30.5957 9.2729 25.1767 9.2729C14.0784 9.2729 5.85231 21.3888 5.85231 28.9846C5.84986 29.9669 5.97528 30.9454 6.22543 31.8953C5.11558 28.8725 4.75205 25.6265 5.16572 22.4331C5.57938 19.2398 6.75802 16.1934 8.60147 13.5531C10.4449 10.9127 12.8987 8.75634 15.7542 7.26726C18.6097 5.77818 21.7826 5.00039 25.0031 5V5.01737Z",fill:"#FF6600"})))}var w,x=i.forwardRef(C),g=(n.p,n(24)),I=n.n(g),N=n(13),y=n.n(N),k="https://tranquil-basin-75437.herokuapp.com/api",A=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.password,e.prev=1,e.next=4,y.a.post("".concat(k,"/users/login"),{account:n,password:a});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("[Login Failed]:",e.t0),console.log(e.t0.response),console.log(e.t0.response.data),e.abrupt("return",e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r,c,o,i;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.name,r=t.password,c=t.email,o=t.checkPassword,e.prev=1,e.next=4,y.a.post("".concat(k,"/users"),{account:n,name:a,password:r,email:c,checkPassword:o});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log("err.response.data",e.t0.response.data),e.abrupt("return",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.password,e.prev=1,e.next=4,y.a.post("".concat(k,"/admin/login"),{account:n,password:a});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log("error message:",e.t0.response.data.message),console.log("error status:",e.t0.response.status),e.abrupt("return",e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r,c,o,i,s,l;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.account,r=t.name,c=t.email,o=t.password,i=t.checkPassword,e.prev=1,console.log("account:",a),console.log("name:",r),console.log("email:",c),console.log("password:",o),console.log("checkPassword:",i),s=localStorage.getItem("token"),e.next=10,y.a.put("".concat(k,"/users/").concat(n),{account:a,name:r,email:c,password:o,checkPassword:i},{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});case 10:if(l=e.sent,console.log(l),"success"!==l.data.status){e.next=15;break}return console.log("\u6210\u529f"),e.abrupt("return",l.data);case 15:e.next=23;break;case 17:return e.prev=17,e.t0=e.catch(1),console.log("\u5931\u6557"),console.log(e.t0.response.data),console.log(e.t0.response),e.abrupt("return",e.t0.response.data);case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r,c,o,i,s,l;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.name,r=t.avatar,c=t.cover,o=t.introduction,i=localStorage.getItem("token"),console.log(i),e.prev=3,(s=new FormData).append("name",a),s.append("avatar",r),s.append("cover",c),s.append("introduction",o),e.next=11,y.a.put("".concat(k,"/users/").concat(n,"/profile"),s,{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"multipart/form-data"}});case 11:return l=e.sent,e.abrupt("return",{success:!0,message:l.data.message});case 15:return e.prev=15,e.t0=e.catch(3),console.log("error",e.t0),e.abrupt("return",{success:!1,message:e.t0.response.data.message});case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(k,"/users/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user",e.t0),e.abrupt("return",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(k,"/users/").concat(t,"/tweets"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user tweet",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(k,"/users/").concat(t,"/replied_tweets"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user replied tweet",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(k,"/users/").concat(t,"/likes"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user likes",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(k,"/users/").concat(t,"/followings"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error: cannnot get user followings",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(k,"/users/").concat(t,"/followers"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log("Error: cannnot get user followers",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(k,"/users/topFollowers"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get top followers",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),B=n(96),Y=n(0),J={isAuthenticated:!1,user:null,register:null,login:null,logout:null,responseError:!1,errorInfo:""},W=Object(i.createContext)(J),G=function(){return Object(i.useContext)(W)},z=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(p.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(null),s=Object(p.a)(o,2),l=s[0],u=s[1],d=Object(j.m)().pathname;return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token")){e.next=7;break}return c(!1),u(null),e.abrupt("return");case 7:n=B.decode(t),u(n),c(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d]),Object(Y.jsx)(W.Provider,{value:{isAuthenticated:r,user:l&&{id:l.id,name:l.name,role:l.role,avatar:l.avatar,account:l.account,introduction:l.introduction,email:l.email,cover:l.cover},payload:l,setPayload:u,register:function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({account:t.account,name:t.name,password:t.password,email:t.email,checkPassword:t.checkPassword});case 2:if(n=e.sent,console.log(n),"success"!==n.status){e.next=9;break}return console.log(n.message),e.abrupt("return",{success:!0,message:n.message});case 9:return e.abrupt("return",{success:!1,message:n.message});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({account:t.account,password:t.password});case 2:if("success"!==(n=e.sent).status){e.next=13;break}return a=n.data.token,r=B.decode(a),u(r),console.log(l),c(!0),localStorage.setItem("token",a),e.abrupt("return",{success:!0,message:n.message,role:n.data.user.role});case 13:return u(null),c(!1),e.abrupt("return",{success:!1,message:n.message});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("token"),localStorage.removeItem("avatar"),u(null),c(!1)},adminLogin:function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({account:t.account,password:t.password});case 2:if(n=e.sent,console.log(n),"success"!==n.status){e.next=14;break}return a=n.data.token,r=B.decode(a),u(r),console.log(l),c(!0),localStorage.setItem("token",a),e.abrupt("return",{success:!0,message:n.message,role:n.data.user.role});case 14:return u(null),c(!1),e.abrupt("return",{success:!1,message:n.message});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),putUserSetting:function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({id:t.id,account:t.account,name:t.name,email:t.email,password:t.password,checkPassword:t.checkPassword});case 2:if(n=e.sent,console.log(n),"success"!==n.status){e.next=8;break}return e.abrupt("return",{success:!0,message:n.message});case 8:return e.abrupt("return",{success:!1,message:n.message});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},children:t})},V=function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,o=e.maxLength,s=e.onChange,l=e.height,u=void 0===l?54:l,d=e.responseError,j=e.errorInfo,b=Object(i.useState)(!1),m=Object(p.a)(b,2),f=m[0],O=m[1],h=Object(i.useState)(""),v=Object(p.a)(h,2),_=v[0],C=v[1],w=d&&j.includes(n),x=d&&j.includes("\u4e0d\u5b58\u5728")&&"\u5e33\u865f"===n,g=(c||"").length,N={height:"".concat(u,"px")},y=I.a.inputGroupDefault;(x||w||f)&&(y+=" ".concat(I.a.inputGroupError));var k="\u540d\u7a31"===t||"\u81ea\u6211\u4ecb\u7d39"===t;return Object(i.useEffect)((function(){if(o)return g>o?(O(!0),void C("\u5b57\u6578\u8d85\u51fa\u4e0a\u9650")):(O(!1),void C(""))}),[o,g]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{className:y,style:N,children:[Object(Y.jsx)("label",{className:I.a.label,htmlFor:n,children:t}),Object(Y.jsx)("input",{type:a,className:I.a.input,id:n,placeholder:r,value:c,onChange:function(e){return s(e.target.value)}})]}),Object(Y.jsxs)("small",{className:I.a.small,children:[w&&Object(Y.jsx)("span",{className:"".concat(I.a.hint," ").concat(I.a.hintLeft),children:j}),x&&Object(Y.jsx)("span",{className:"".concat(I.a.hint," ").concat(I.a.hintLeft),children:j}),!w&&_&&Object(Y.jsx)("span",{className:"".concat(I.a.hint," ").concat(I.a.hintLeft),children:_}),c&&Object(Y.jsx)("span",{className:"".concat(I.a.hint," ").concat(I.a.hintRight),children:k&&Object(Y.jsxs)("span",{children:[g," / ",o]})})]})]})},X=(n.p,n.p,n(35)),D=n.n(X),Q=n(25),q=n.n(Q),K=["title","titleId"];function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(this,arguments)}function ee(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function te(e,t){var n=e.title,a=e.titleId,r=ee(e,K);return i.createElement("svg",$({width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,w||(w=i.createElement("path",{d:"M4.99989 0.166992C2.31989 0.166992 0.139893 2.34699 0.139893 5.02699C0.139893 7.70699 2.31989 9.88699 4.99989 9.88699C7.67989 9.88699 9.85989 7.70699 9.85989 5.02699C9.85989 2.34699 7.67989 0.166992 4.99989 0.166992V0.166992ZM6.99989 5.74999H5.74989V6.99999C5.74989 7.41399 5.41389 7.74999 4.99989 7.74999C4.58589 7.74999 4.24989 7.41399 4.24989 6.99999V5.74999H2.99989C2.58589 5.74999 2.24989 5.41399 2.24989 4.99999C2.24989 4.58599 2.58589 4.24999 2.99989 4.24999H4.24989V2.99999C4.24989 2.58599 4.58589 2.24999 4.99989 2.24999C5.41389 2.24999 5.74989 2.58599 5.74989 2.99999V4.24999H6.99989C7.41389 4.24999 7.74989 4.58599 7.74989 4.99999C7.74989 5.41399 7.41389 5.74999 6.99989 5.74999Z",fill:"white"})))}var ne,ae=i.forwardRef(te),re=(n.p,["title","titleId"]);function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ce.apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ie(e,t){var n=e.title,a=e.titleId,r=oe(e,re);return i.createElement("svg",ce({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,ne||(ne=i.createElement("path",{d:"M9.41412 8.00012L15.2071 2.20712C15.5971 1.81712 15.5971 1.18412 15.2071 0.793119C14.8171 0.402119 14.1841 0.403119 13.7931 0.793119L8.00012 6.58612L2.20712 0.793119C1.81712 0.403119 1.18412 0.403119 0.793119 0.793119C0.402119 1.18312 0.403119 1.81612 0.793119 2.20712L6.58612 8.00012L0.793119 13.7931C0.403119 14.1831 0.403119 14.8161 0.793119 15.2071C0.988119 15.4021 1.24312 15.5001 1.50012 15.5001C1.75712 15.5001 2.01212 15.4021 2.20712 15.2071L8.00012 9.41412L13.7931 15.2071C13.9881 15.4021 14.2431 15.5001 14.5001 15.5001C14.7571 15.5001 15.0121 15.4021 15.2071 15.2071C15.5971 14.8171 15.5971 14.1841 15.2071 13.7931L9.41412 8.00012Z",fill:"white"})))}var se,le=i.forwardRef(ie),ue=(n.p,n(11)),de=n.n(ue),je=function(e){var t=e.open,n=e.onClose,a=e.userId,r=e.userData,c=r.avatar,o=r.cover,s=r.name,l=r.introduction,u=Object(i.useState)(s),d=Object(p.a)(u,2),j=d[0],f=d[1],O=Object(i.useState)(c),h=Object(p.a)(O,2),v=h[0],_=h[1],C=Object(i.useState)(o),w=Object(p.a)(C,2),x=w[0],g=w[1],I=Object(i.useState)(l),N=Object(p.a)(I,2),y=N[0],k=N[1],A=Object(i.useState)(""),U=Object(p.a)(A,2),M=U[0],S=U[1],T=Object(i.useState)(""),F=Object(p.a)(T,2),R=F[0],P=F[1],E=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var r,c,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cover,t.avatar,t.name,t.introduction,null!==j&&void 0!==j&&j.trim()&&null!==y&&void 0!==y&&y.trim()){e.next=4;break}return de.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u70ba\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),e.abrupt("return");case 4:if(!(j.length>50||y.length>160)){e.next=7;break}return de.a.fire({title:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),e.abrupt("return");case 7:return e.next=9,L({id:a,name:j,avatar:v,cover:x,introduction:y});case 9:if(r=e.sent,!(c=r.success)){e.next=17;break}return de.a.fire({title:"\u7de8\u8f2f\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),o=URL.createObjectURL(v),localStorage.setItem("avatar",o),n(!1),e.abrupt("return");case 17:c||de.a.fire({title:"\u7de8\u8f2f\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(t)return Object(Y.jsx)("div",{className:q.a.grayBackground,children:Object(Y.jsxs)("div",{className:q.a.container,children:[Object(Y.jsxs)("header",{className:q.a.header,children:[Object(Y.jsxs)("div",{className:q.a.leftContainer,children:[Object(Y.jsx)("button",{onClick:function(){return n(!1)},children:" X "}),Object(Y.jsx)("h5",{className:"title",children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"})]}),Object(Y.jsx)("button",{className:q.a.saveButton,onClick:E,children:" \u5132\u5b58 "})]}),Object(Y.jsxs)("label",{htmlFor:"coverUpload",className:q.a.bgContainer,children:[R?Object(Y.jsx)("img",{src:R,alt:"Preview"}):Object(Y.jsx)("img",{src:x,alt:"cover"}),Object(Y.jsx)(ae,{className:q.a.upload}),Object(Y.jsx)(le,{className:q.a.fork})]}),Object(Y.jsx)("input",{type:"file",id:"coverUpload",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){g(t);var n=new FileReader;n.onload=function(e){P(e.target.result)},n.readAsDataURL(t)}}}),Object(Y.jsxs)("label",{htmlFor:"Avatarupload",className:q.a.avatarContainer,children:[M?Object(Y.jsx)("img",{src:M,alt:"Preview",className:q.a.avatar}):Object(Y.jsx)("img",{src:v,alt:"avatar",className:q.a.avatar}),Object(Y.jsx)(ae,{className:q.a.upload})]}),Object(Y.jsx)("input",{type:"file",id:"Avatarupload",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){_(t);var n=new FileReader;n.onload=function(e){S(e.target.result)},n.readAsDataURL(t)}}}),Object(Y.jsxs)("div",{className:q.a.inputContainer,children:[Object(Y.jsx)(V,{value:j,label:"\u540d\u7a31",id:"username",type:"text",placeholder:"\u8acb\u8f38\u5165\u4f7f\u7528\u8005\u540d\u7a31",maxLength:50,onChange:function(e){return f(e)}}),Object(Y.jsx)(V,{value:y,label:"\u81ea\u6211\u4ecb\u7d39",id:"introduction",type:"text",placeholder:"\u8acb\u8f38\u5165\u81ea\u6211\u4ecb\u7d39",maxLength:160,height:147,onChange:function(e){return k(e)}})]})]})})},be=function(e){var t=e.userId,n=Object(i.useState)(!1),a=Object(p.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(null),s=Object(p.a)(o,2),l=s[0],u=s[1],j=l||{},f=j.account,O=j.avatar,h=j.cover,v=j.name,_=j.introduction,C=j.followersCount,w=j.followingsCount,x=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,T(t);case 3:n=e.sent,u(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,T(t);case 3:n=e.sent,u(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,r]),Object(Y.jsxs)("div",{className:D.a.container,children:[Object(Y.jsx)("div",{className:D.a.bgContainer,children:Object(Y.jsx)("img",{src:h,alt:"background"})}),Object(Y.jsx)("div",{className:D.a.avatarContainer,children:Object(Y.jsx)("img",{src:O,alt:"avatar"})}),Object(Y.jsx)("div",{className:D.a.buttonContainer,children:Object(Y.jsx)("button",{className:D.a.button,type:"button",onClick:x,children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"})}),Object(Y.jsxs)("div",{className:D.a.textContainer,children:[Object(Y.jsx)("h5",{className:D.a.name,children:v}),Object(Y.jsxs)("span",{className:D.a.account,children:["@",f]}),Object(Y.jsx)("p",{children:_}),Object(Y.jsxs)("div",{className:D.a.linkGroup,children:[Object(Y.jsxs)(d.b,{to:"/".concat(t,"/followings"),className:D.a.link,children:[w,"\u500b",Object(Y.jsx)("span",{children:"\u6b63\u5728\u8ffd\u96a8"})]}),Object(Y.jsxs)(d.b,{to:"/".concat(t,"/followers"),className:D.a.link,children:[C,"\u500b",Object(Y.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})]})]}),r&&Object(Y.jsx)(je,{open:r,onClose:function(e){return c(e)},userId:t,userData:l})]})},me=n(39),pe=n.n(me),fe="https://tranquil-basin-75437.herokuapp.com/api",Oe=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.post("".concat(fe,"/tweets"),{description:t},{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error:cannot post tweet",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(fe,"/tweets"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get all tweets",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a,r,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tweetId,a=t.comment,r=localStorage.getItem("token"),e.prev=2,e.next=5,y.a.post("".concat(fe,"/tweets/").concat(n,"/replies"),{comment:a},{headers:{Authorization:"Bearer ".concat(r)}});case 5:return c=e.sent,e.abrupt("return",{success:!0,message:c.data.message});case 9:return e.prev=9,e.t0=e.catch(2),console.error("Error:cannot get a tweet",e.t0),e.abrupt("return",{success:!1,message:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(fe,"/tweets/").concat(t,"/replies"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get a tweet",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.get("".concat(fe,"/tweets/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get a tweet",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),we=function(e){var t=e.open,n=e.onClose,a=e.onTweetSubmit,r=Object(i.useState)(""),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(i.useState)(""),u=Object(p.a)(l,2),d=u[0],f=u[1],O=G().user,h=Object(j.p)(),v=localStorage.getItem("avatar")?localStorage.getItem("avatar"):O.avatar,_=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.trim()){e.next=4;break}return de.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),f("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d"),e.abrupt("return");case 4:if(!(o.length>140)){e.next=8;break}return de.a.fire({title:"\u5167\u5bb9\u8d85\u51fa\u4e0a\u9650",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),f("\u5167\u5bb9\u4e0d\u53ef\u8d85\u904e140\u5b57"),e.abrupt("return");case 8:return e.next=10,Oe(o);case 10:if(t=e.sent,r=t.status,console.log(r),"success"!==r){e.next=18;break}return de.a.fire({title:"\u5167\u5bb9\u6210\u529f\u63d0\u4ea4",icon:"success",showConfirmButton:!1,timer:3e3,position:"top"}),a(o),n(!1),e.abrupt("return");case 18:s(""),h("/".concat(O.id));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(t)return Object(Y.jsx)("div",{className:pe.a.background,children:Object(Y.jsxs)("div",{className:pe.a.container,children:[Object(Y.jsx)("div",{className:pe.a.buttonContainer,children:Object(Y.jsx)("button",{className:pe.a.saveButton,onClick:function(){n(!1)},children:" X "})}),Object(Y.jsxs)("div",{className:pe.a.ContentContainer,children:[Object(Y.jsx)("div",{className:"".concat(pe.a.avatarContainer," ").concat(pe.a.down),children:Object(Y.jsx)("img",{src:v,alt:"avatar"})}),Object(Y.jsxs)("div",{className:pe.a.textareaContainer,children:[Object(Y.jsx)("textarea",{style:{resize:"none",width:"88%"},value:o,onChange:function(e){return s(e.target.value)},placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b?"}),Object(Y.jsx)("small",{className:pe.a.small,children:d})]}),Object(Y.jsx)("button",{className:pe.a.button,onClick:_,children:"\u63a8\u6587"})]})]})})},xe=n(36),ge=n.n(xe),Ie=n.p+"static/media/back.792cba0f.svg",Ne=function(e){var t=e.userId,n=(e.setCurrentSection,Object(i.useState)(0)),a=Object(p.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(""),s=Object(p.a)(o,2),l=s[0],u=s[1],d=Object(j.p)(),f=Object(j.m)(),O=function(){d(-1)};Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:(n=e.sent)?(c(n.tweetsCount),u(n.name)):console.error("No user found"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch user data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var h="",v=f.pathname;return h="/main"===v?Object(Y.jsx)("div",{className:ge.a.Header,children:"\u9996\u9801"}):v.match(new RegExp("/profile|/".concat(t,"/followers|/").concat(t,"/followings|/").concat(t,"/(tweets|likes|replies)$|/").concat(t)))||v.includes("/otherProfile")?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:ge.a.imgContainer,children:Object(Y.jsx)("img",{src:Ie,alt:"left",onClick:O})}),Object(Y.jsxs)("div",{className:ge.a.contentContainer,children:[Object(Y.jsx)("span",{className:ge.a.name,children:l}),Object(Y.jsxs)("div",{className:ge.a.tweetCount,children:[r," \u63a8\u6587"]})]})]}):v.includes("/tweets/:tweetId")?Object(Y.jsx)("div",{className:ge.a.Header,children:"\u63a8\u6587"}):"",Object(Y.jsx)("div",{className:ge.a.HeaderContainer,children:h})},ye=n(14),ke=n.n(ye),Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASDSURBVHgB7VlbUhw3FD1qBioVftiB2ysIXkFgBcErMFSCk7/ACoAVMPy58igPK8BZgWEFmexA2cH40zZGPrpqM/Sgq5Z62l+eUzXTXZJa0tF96OoKWGGFFb4JGAwI9wt2+NhGhR/l6bDFEbZCJWZ8t3yzuMMNn1PzF64xEJYm4vY50RF+Z09H95POhyXBa3zEmZkIyd7oTUQIbOCEr0cYAg6TZQj1IkIV8qt/0kMCXfASOjN/klQhiom4lzhHSgrBFv7jb0pbmPI5o83M+O5Jb/O3x98PSOEOY9rPMQqQTURUaR1X/GJHaXIj6rGJN2bMiaf6+g01J3uFQCyOT3hu/sYbZCKfyCHeKiSmXPFj86rcA1G6p3ycRKqs+QNPUYBRTqNGnXYeV+CC+hxVM1n1W6pRRUne4TrmajnZU/bt0SZTYReF6JQIJbHPVq/bhVSdNYo+IgWqYE0VPOc3ewvfeK90TK/0SO3cr5S2axYqsTgpVKlKmZR5JHpLEs8UEtt0yW8fkfAwXJB1sQtE6g7u+94UdStGkggV75T/9YMS68VOEnaxqZBYJ4l2+zZoYyLhxeLQ36W4XsVRiLNJQCUi0qjwYl4gblQjUVMSV1n7iokaN/A9jpL7xwZep8joEhktiNiv1itl193okEQbdROTtZBy2Y0U9zgn1XZ0IiHwa0bBhF5nHB3kpaxwjRKsPZB0B1p2ahjTKYgSoevcwXxylh2cqYOgh3HeRZyBhod2StWNSdOjUgaaN06p1Kifh5EJHSZ29S9DL9ppQPS7OBF339hqBqgMUoJOIo3ttWFKJGLwRJ4urlKCvtKYI0lEIuyY7Zl4wBkPUZx0MPuK0khC2Yi/zC3qgjWJbLFGjzzX1Qg4Fz46GKu1XtranmRKiHjc4h+1bllppByIh0kfAxCdUnygGVd9Gq3yu6tbQiIhKJwk26wltMHFSWqqZdUV+y7D2+jICgolIHWqVGysUJPIDTTc9iYSAs5xttpcKuX/xwq1DfEaGqqeCQcn5xeb3V5TLxNX+TiRKjGg60HE4YB2MS35RFUvZZGjRPygasjsCvNOgcREreae4X5WY69F9bJadlJ1v7EjqWCUubJ+NTNISBhSKV5wUb2MrvLpE2IEzRHXdjTz9btZJEIY8kIdi+56XqCHTMVEmq92ESMTdPqMp71nKZvgGWaP+9S/yAjPJRHhyfgzUcJZdGdRaCuamsnJrWrcsc8qdiTnOvLFFh+4ANpYR5xHou9uIn71PvAKYMlseZNWSp8mmTKiBA7QA1mZxiZpPStNLjdXDvtNbJa3kYZrhoPShctPmYYkms/ZeuOLXtI0+eFaYjGDn+Anb3pvoD6hd0FCWV4yK2UqeI/njas8l3FCqtMutKrlf4h7MMPc71a+VMqvFQ55jkhkMwZBj7Rp+T4S3KE3SIuh4eQe5Xjw3K8GMfqwl1xiKPi9YhNPtfxZ55ywJJpLm1O++oRejRKE260LbqDjgvA+iiHM8h6S2PM5MSfeynuvJ63raeAd/MWQd7GM2fpcDq2wwgrfOD4DQomGYCQW65AAAAAASUVORK5CYII=",Ue=n.p+"static/media/homeLine.26a9adb0.svg",Me=n.p+"static/media/userLine.c05d11cb.svg",Se=n.p+"static/media/cogLine.eb7d7939.svg",Le=n.p+"static/media/logout.1955c27d.svg",Te=n.p+"static/media/isHome.53190282.svg",Fe=n.p+"static/media/isSetting.c64537d3.svg",Re=n.p+"static/media/isProfile.25348162.svg",Pe=function(e){var t=e.onTweetSubmit,n=Object(i.useState)(!1),a=Object(p.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(""),s=Object(p.a)(o,2),l=(s[0],s[1]),u=Object(i.useState)(!1),b=Object(p.a)(u,2),m=b[0],f=b[1],O=Object(j.p)(),h=Object(j.m)();Object(i.useEffect)((function(){f(h.pathname)}),[h]);var v=function(e){l(e),f(!0)};return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{className:ke.a.navbarContainer,children:[Object(Y.jsx)("div",{className:ke.a.NavbarLogo,children:Object(Y.jsx)("img",{src:Ae,alt:""})}),Object(Y.jsxs)("div",{className:ke.a.NavbarGroup,children:[Object(Y.jsx)(d.b,{to:"/main",children:Object(Y.jsxs)("div",{className:"".concat(ke.a.NavbarItem," ").concat("/main"===h.pathname?ke.a.active:""),onClick:function(){return v("main")},children:[Object(Y.jsx)("img",{className:ke.a.NavbarPng,src:"/main"===m?Te:Ue,alt:"Home"}),Object(Y.jsx)("span",{children:"\u9996\u9801"})]})}),Object(Y.jsx)(d.b,{to:"/profile",children:Object(Y.jsxs)("div",{className:"".concat(ke.a.NavbarItem," ").concat("/profile"===h.pathname?ke.a.active:""),onClick:function(){return v("profile")},children:[Object(Y.jsx)("img",{className:ke.a.NavbarPng,src:"/profile"===m?Re:Me,alt:"Icon"}),Object(Y.jsx)("span",{children:"\u500b\u4eba\u8cc7\u6599"})]})}),Object(Y.jsx)(d.b,{to:"/setting",children:Object(Y.jsxs)("div",{className:"".concat(ke.a.NavbarItem," ").concat("/setting"===h.pathname?ke.a.active:""),onClick:function(){return v("setting")},children:[Object(Y.jsx)("img",{className:ke.a.NavbarPng,src:"/setting"===m?Fe:Se,alt:"Setting"}),Object(Y.jsx)("span",{children:"\u8a2d\u5b9a"})]})}),Object(Y.jsx)("button",{className:ke.a.NavbarButton,onClick:function(){c(!0)},children:"\u63a8\u6587"})]}),r&&Object(Y.jsx)(we,{open:r,onClose:function(){return c(!1)},onTweetSubmit:t})]}),Object(Y.jsxs)("div",{className:ke.a.logout,onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("avatar"),O("/login")},children:[Object(Y.jsx)("img",{className:ke.a.NavbarPng,src:Le,alt:"logout"}),"\u767b\u51fa"]})]})},Ee=n(46),Ze=n.n(Ee),He=function(e){var t=e.user,n=e.onTweetSubmit,a=Object(i.useState)(""),r=Object(p.a)(a,2),c=r[0],o=r[1],s=Object(i.useState)(""),l=Object(p.a)(s,2),u=l[0],d=l[1],f=Object(j.p)(),O=localStorage.getItem("avatar")?localStorage.getItem("avatar"):null===t||void 0===t?void 0:t.avatar,h=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.trim()){e.next=4;break}return de.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),d("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d"),e.abrupt("return");case 4:if(!(c.length>140)){e.next=8;break}return de.a.fire({title:"\u5167\u5bb9\u8d85\u51fa\u4e0a\u9650",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),d("\u5167\u5bb9\u4e0d\u53ef\u8d85\u904e140\u5b57"),e.abrupt("return");case 8:return e.next=10,Oe(c);case 10:if(t=e.sent,a=t.status,console.log(a),"success"!==a){e.next=18;break}return de.a.fire({title:"\u5167\u5bb9\u6210\u529f\u63d0\u4ea4",icon:"success",showConfirmButton:!1,timer:3e3,position:"top"}),o(""),n(c),e.abrupt("return");case 18:f("/main");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Ze.a.textareaContainer,Ze.a.small;return t?Object(Y.jsxs)("div",{className:Ze.a.mainPostContainer,children:[Object(Y.jsx)("img",{className:Ze.a.avatar,src:O,onClick:function(){return e=t.id,void f("/".concat(e));var e},alt:"avatar"}),Object(Y.jsxs)("div",{className:Ze.a.tweetArea,children:[Object(Y.jsx)("textarea",{className:Ze.a.tweetText,type:"text",placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b\uff1f",value:c,onChange:function(e){return o(e.target.value)}}),Object(Y.jsx)("small",{className:Ze.a.small,children:u})]}),Object(Y.jsx)("button",{className:Ze.a.tweetButton,onClick:h,children:"\u63a8\u6587"})]}):null},Be=["title","titleId"];function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ye.apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function We(e,t){var n=e.title,a=e.titleId,r=Je(e,Be);return i.createElement("svg",Ye({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,se||(se=i.createElement("path",{d:"M15 27.0473H14.9825C11.7537 26.9873 2.4375 18.5698 2.4375 10.5973C2.4375 6.76728 5.59375 3.40479 9.19125 3.40479C12.0537 3.40479 13.9787 5.37979 14.9987 6.81729C16.0162 5.38229 17.9412 3.40479 20.805 3.40479C24.405 3.40479 27.56 6.76729 27.56 10.5985C27.56 18.5685 18.2425 26.986 15.0137 27.0448H15V27.0473ZM9.1925 5.28104C6.5925 5.28104 4.31375 7.76603 4.31375 10.5998C4.31375 17.7748 13.1062 25.0948 15.0012 25.1723C16.8987 25.0948 25.6887 17.776 25.6887 10.5998C25.6887 7.76603 23.41 5.28104 20.81 5.28104C17.65 5.28104 15.885 8.95104 15.87 8.98729C15.5825 9.68979 14.425 9.68979 14.1362 8.98729C14.1187 8.94979 12.355 5.28104 9.19375 5.28104H9.1925Z",fill:"#657786"})))}var Ge,ze=i.forwardRef(We),Ve=(n.p,["title","titleId"]);function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xe.apply(this,arguments)}function De(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qe(e,t){var n=e.title,a=e.titleId,r=De(e,Ve);return i.createElement("svg",Xe({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Ge||(Ge=i.createElement("path",{d:"M15 27.0478H14.9825C11.7538 26.9878 2.4375 18.5703 2.4375 10.5978C2.4375 6.76777 5.59375 3.40527 9.19125 3.40527C12.0538 3.40527 13.9788 5.38027 14.9987 6.81777C16.0162 5.38277 17.9412 3.40527 20.805 3.40527C24.405 3.40527 27.56 6.76777 27.56 10.599C27.56 18.569 18.2425 26.9865 15.0138 27.0453H15V27.0478Z"})))}var qe,Ke=i.forwardRef(Qe),$e=(n.p,["title","titleId"]);function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},et.apply(this,arguments)}function tt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nt(e,t){var n=e.title,a=e.titleId,r=tt(e,$e);return i.createElement("svg",et({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,qe||(qe=i.createElement("path",{d:"M15.4253 0.802539L10.2403 0.790039H10.2378C4.77029 0.790039 0.487793 5.07379 0.487793 10.5425C0.487793 15.665 4.47029 19.55 9.81904 19.755V24.54C9.81904 24.675 9.87404 24.8975 9.96904 25.0438C10.1465 25.325 10.449 25.4775 10.759 25.4775C10.9315 25.4775 11.1053 25.43 11.2615 25.33C11.5915 25.12 19.3528 20.155 21.3715 18.4475C23.749 16.435 25.1715 13.485 25.1753 10.5575V10.5363C25.1678 5.07754 20.8878 0.802539 15.4253 0.801289V0.802539ZM20.159 17.0175C18.7415 18.2175 14.0815 21.2738 11.694 22.8213V18.8375C11.694 18.32 11.2753 17.9 10.7565 17.9H10.2615C5.68654 17.9 2.36404 14.805 2.36404 10.5425C2.36404 6.12504 5.82404 2.66504 10.239 2.66504L15.4228 2.67754H15.4253C19.8403 2.67754 23.3003 6.13504 23.3028 10.5475C23.299 12.935 22.1253 15.3525 20.1603 17.0175H20.159Z",fill:"#6C757D"})))}var at,rt=i.forwardRef(nt),ct=(n.p,n(10)),ot=n.n(ct),it=n(22),st=n.n(it),lt=n(16),ut=n.n(lt),dt=["title","titleId"];function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jt.apply(this,arguments)}function bt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mt(e,t){var n=e.title,a=e.titleId,r=bt(e,dt);return i.createElement("svg",jt({width:2,height:86,viewBox:"0 0 2 86",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,at||(at=i.createElement("rect",{width:2,height:86,fill:"#B5B5BE"})))}var pt=i.forwardRef(mt);n.p;function ft(e){var t=ot()(),n=ot()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}ot.a.extend(st.a),ot.a.locale("zh-tw");var Ot=function(e){var t=e.onClose,n=e.open,a=e.tweetId,r=e.tweet,c=(e.currentUserAvatar,e.onReplySubmit),o=Object(i.useState)(""),s=Object(p.a)(o,2),l=s[0],u=s[1],d=Object(i.useState)(""),f=Object(p.a)(d,2),O=f[0],h=f[1],v=G().user,_=Object(j.m)().pathname==="/tweets/".concat(a);if(n){var C=localStorage.getItem("avatar")?localStorage.getItem("avatar"):v.avatar,w=r||{},x=w.description,g=w.createdAt,I=w.User||{},N=I.account,y=I.avatar,k=I.name,A=!l.trim()||l.length>140,U=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.trim()){e.next=4;break}return de.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),h("\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d"),e.abrupt("return");case 4:if(!(l.length>140)){e.next=8;break}return de.a.fire({title:"\u5167\u5bb9\u8d85\u51fa\u4e0a\u9650",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),h("\u5167\u5bb9\u4e0d\u53ef\u8d85\u904e140\u5b57"),e.abrupt("return");case 8:return e.next=10,ve({tweetId:a,comment:l});case 10:if(n=e.sent,r=n.success,console.log(r),!r){e.next=18;break}return de.a.fire({title:"\u5167\u5bb9\u6210\u529f\u63d0\u4ea4",icon:"success",showConfirmButton:!1,timer:3e3,position:"top"}),_&&c(l),t(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsx)("div",{className:ut.a.background,children:Object(Y.jsxs)("div",{className:ut.a.container,children:[Object(Y.jsx)("div",{className:ut.a.buttonContainer,children:Object(Y.jsx)("button",{className:ut.a.saveButton,onClick:function(){return t(!1)},children:" X "})}),Object(Y.jsxs)("div",{className:ut.a.ContentContainer,children:[Object(Y.jsxs)("div",{className:ut.a.leftContainer,children:[Object(Y.jsx)("div",{className:"".concat(ut.a.avatarContainer," ").concat(ut.a.top),children:Object(Y.jsx)("img",{src:y,alt:"\u63a8\u6587\u8005avatar"})}),Object(Y.jsx)(pt,{className:ut.a.line}),Object(Y.jsx)("div",{className:"".concat(ut.a.avatarContainer," ").concat(ut.a.down),children:Object(Y.jsx)("img",{src:C,alt:"\u56de\u8986\u8005avatar"})})]}),Object(Y.jsxs)("div",{className:ut.a.rightContainer,children:[Object(Y.jsxs)("div",{className:ut.a.rightTopContainer,children:[Object(Y.jsxs)("h5",{className:ut.a.name,children:[k,Object(Y.jsxs)("span",{children:["@",N,"\u30fb",ft(g),"\u5c0f\u6642"]})]}),Object(Y.jsx)("p",{className:ut.a.introduction,children:x}),Object(Y.jsxs)("p",{className:ut.a.hint,children:["\u56de\u8986\u7d66",Object(Y.jsxs)("span",{children:["@",N]})]})]}),Object(Y.jsxs)("div",{className:ut.a.rightBottomContainer,children:[Object(Y.jsx)("textarea",{style:{resize:"none",width:"88%"},className:ut.a.tweetText,value:l,onChange:function(e){return u(e.target.value)},placeholder:"\u63a8\u4f60\u7684\u56de\u8986"}),Object(Y.jsxs)("div",{className:ut.a.ReplyButtonContainer,children:[A&&Object(Y.jsx)("small",{children:O}),Object(Y.jsx)("button",{onClick:U,children:"\u56de\u8986"})]})]})]})]})]})})}},ht=n(21),vt=n.n(ht);function _t(e){var t=ot()(),n=ot()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}ot.a.extend(st.a),ot.a.locale("zh-tw");var Ct=function(e){var t=e.User,n=e.tweet,a=e.onLike,r=e.onUnLike,c=Object(i.useState)(!1),o=Object(p.a)(c,2),s=o[0],l=o[1],u=Object(i.useState)(null),d=Object(p.a)(u,2),b=d[0],m=(d[1],G().user),f=(m&&m.id,Object(j.p)()),O=function(e){e.stopPropagation(),console.log("like:",a,"unlike:",r,"isCurrentUserLiked:",n.isCurrentUserLiked),n.isCurrentUserLiked?r(n.id):a(n.id)},h=n.User,v=void 0===h?{}:h,_=v.name,C=v.account,w=v.avatar,x=n.description,g=n.repliesCount,I=n.likesCount,N=n.createdAt,y=n.isCurrentUserLiked;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:vt.a.tweetCardContainer,children:Object(Y.jsxs)("div",{className:vt.a.tweetCard,onClick:function(){return e=n.id,void f("/tweets/".concat(e));var e},children:[Object(Y.jsx)("img",{src:w,className:vt.a.avatar,onClick:function(e){return function(e,t){e.stopPropagation(),f("/".concat(t))}(e,n.User.id)},alt:"avatar"}),Object(Y.jsxs)("div",{className:vt.a.contentContainer,children:[Object(Y.jsxs)("div",{className:vt.a.nameAndUserId,children:[Object(Y.jsx)("span",{className:vt.a.name,children:_}),Object(Y.jsxs)("span",{className:vt.a.userIdTime,children:["@",C,"\u30fb",_t(N)]})]}),Object(Y.jsx)("div",{className:vt.a.tweet,children:x}),Object(Y.jsxs)("div",{className:vt.a.countContainer,children:[Object(Y.jsxs)("div",{className:vt.a.count,children:[Object(Y.jsx)(rt,{className:vt.a.replyIcon,onClick:function(e){e.stopPropagation(),l(!0)}}),g]}),Object(Y.jsxs)("div",{className:vt.a.count,children:[y?Object(Y.jsx)(Ke,{className:vt.a.isLikeIcon,onClick:O}):Object(Y.jsx)(ze,{className:vt.a.likeIcon,onClick:O}),I]})]})]})]})}),s&&Object(Y.jsx)(Ot,{open:s,onClose:function(e){return l(e)},User:t,tweet:n,tweetId:n.id,currentUserAvatar:b})]})},wt=n(12),xt="https://tranquil-basin-75437.herokuapp.com/api",gt=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.post("".concat(xt,"/tweets/").concat(t,"/like"),{},{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error:cannot post like",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.post("".concat(xt,"/tweets/").concat(t,"/unlike"),{},{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error:cannot post unlike",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Nt=Object(i.createContext)(),yt=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(p.a)(n,2),r=a[0],c=a[1];return Object(Y.jsx)(Nt.Provider,{value:{updateTag:r,setUpdateTag:c},children:t})},kt=function(){return Object(i.useContext)(Nt)},At=function(e){var t=e.dataItems,n=e.currentUserId,a=e.setUpdateTag,r=Object(i.useState)(Array.isArray(t)?t:[t]),c=Object(p.a)(r,2),o=c[0],s=c[1],l=kt().updateTag;Object(i.useEffect)((function(){s(Array.isArray(t)?t:[t])}),[t,l]);var u=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var r,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(t);case 2:if(r=e.sent,t===n){e.next=9;break}if(!r||"success"!==r.status){e.next=9;break}return e.next=7,Ce(t);case 7:(c=e.sent)&&(s((function(e){return e.map((function(e){return e.Tweet?e.Tweet.id===t?Object(wt.a)(Object(wt.a)({},e),{},{Tweet:c,isCurrentUserLiked:!0}):e:e.id===t?Object(wt.a)(Object(wt.a)(Object(wt.a)({},e),c),{},{isCurrentUserLiked:!0}):e}))})),a(!l));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var r,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It(t);case 2:if(r=e.sent,t===n){e.next=9;break}if(!r||"success"!==r.status){e.next=9;break}return e.next=7,Ce(t);case 7:(c=e.sent)&&(s((function(e){return e.map((function(e){return e.Tweet?e.Tweet.id===t?Object(wt.a)(Object(wt.a)({},e),{},{Tweet:c,isCurrentUserLiked:!1}):e:e.id===t?Object(wt.a)(Object(wt.a)({},e),{},{Tweet:c,isCurrentUserLiked:!1}):e}))})),a(!l));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("likeTweetsat",o),{likeTweets:o,handleLike:u,handleUnLike:d}},Ut=function(e){var t=e.userId,n=e.newTweet,a=Object(i.useState)([]),r=Object(p.a)(a,2),c=r[0],o=r[1],s=kt(),l=s.updateTag,u=s.setUpdateTag,d=At({dataItems:c,setUpdateTag:u}),j=d.likeTweets,f=d.handleLike,O=d.handleUnLike;return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,console.log(t),t&&o(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n,l]),j?j.map((function(e){return e.User?Object(Y.jsx)(Ct,{tweet:e,onLike:function(){return f(e.id)},onUnLike:function(){return O(e.id)},type:"alltweet"},e.id):null})):null},Mt=n(97),St=n.n(Mt),Lt=n(50),Tt=n.n(Lt),Ft=function(e){var t=e.user,n=e.onFollow,a=e.onUnfollow,r=t.isCurrentUserFollowed?Tt.a.buttonFollowing:Tt.a.buttonFollower,c=t.isCurrentUserFollowed?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8",o=Object(j.p)();return Object(Y.jsxs)("div",{className:Tt.a.recommendCard,children:[Object(Y.jsx)("img",{src:t.avatar,className:Tt.a.avatar,onClick:function(){return e=t.id,void o("/".concat(e));var e},alt:"avatar"}),Object(Y.jsxs)("div",{className:Tt.a.userInfo,children:[Object(Y.jsxs)("div",{className:Tt.a.name,children:[t.name," "]}),Object(Y.jsxs)("div",{className:Tt.a.userName,children:["@",t.account]})]}),Object(Y.jsx)("button",{className:r,onClick:function(){t.isCurrentUserFollowed?a(t.id):n(t.id)},children:c})]})},Rt="https://tranquil-basin-75437.herokuapp.com/api",Pt=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.post("".concat(Rt,"/followships"),{id:t},{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error:cannot post follow",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,y.a.delete("".concat(Rt,"/followships/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error:cannot unfollow",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Zt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4?arguments[4]:void 0,c=Object(i.useState)(!1),o=Object(p.a)(c,2),s=o[0],l=o[1],u=function(){var e=Object(m.a)(Object(b.a)().mark((function e(c){var o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt(c);case 3:(o=e.sent)&&"success"===o.status&&(l(!s),t((function(e){return(Array.isArray(e)?e:[e]).map((function(e){return e.id===c?Object(wt.a)(Object(wt.a)({},e),{},{isCurrentUserFollowed:!0}):e}))})),n((function(e){return(Array.isArray(e)?e:[e]).map((function(e){return e.id===c?Object(wt.a)(Object(wt.a)({},e),{},{isCurrentUserFollowed:!0}):e}))})),a((function(e){return(Array.isArray(e)?e:[e]).map((function(e){return e.id===c?Object(wt.a)(Object(wt.a)({},e),{},{isCurrentUserFollowed:!0}):e}))})),r((function(e){return!e}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("handleFollow error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(m.a)(Object(b.a)().mark((function e(c){var o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et(c);case 3:(o=e.sent)&&"success"===o.status&&(l(!s),t((function(e){return(Array.isArray(e)?e:[e]).map((function(e){return e.id===c?Object(wt.a)(Object(wt.a)({},e),{},{isCurrentUserFollowed:!1}):e}))})),n((function(e){return(Array.isArray(e)?e:[e]).map((function(e){return e.id===c?Object(wt.a)(Object(wt.a)({},e),{},{isCurrentUserFollowed:!1}):e}))})),a((function(e){return(Array.isArray(e)?e:[e]).map((function(e){return e.id===c?Object(wt.a)(Object(wt.a)({},e),{},{isCurrentUserFollowed:!1}):e}))})),r((function(e){return!e}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("handleFollow error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return{loginUserId:e,handleFollow:u,handleUnFollow:d,updateTag:s}},Ht=function(e){var t=e.userId,n=e.loginUserId,a=Object(i.useState)([]),r=Object(p.a)(a,2),c=r[0],o=r[1],s=kt(),l=s.updateTag,u=s.setUpdateTag,d=Zt(n,o,u),j=d.handleFollow,f=d.handleUnFollow;return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,console.log(t),t&&o(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,l]),Object(Y.jsxs)("div",{className:St.a.recommendListContainer,children:[Object(Y.jsx)("div",{className:St.a.HeaderContainer,children:Object(Y.jsx)("h4",{className:St.a.RecommendHeader,children:"\u63a8\u85a6\u8ddf\u96a8"})}),c.map((function(e){return Object(Y.jsx)(Ft,{user:e,loginUserId:n,onFollow:j,onUnfollow:f},e.id)}))]})},Bt=n.p+"static/media/reply_1.6903ca22.svg",Yt=(n(26),n(196)),Jt=n.n(Yt);ot.a.extend(Jt.a),ot.a.locale("zh-tw");var Wt=n(37),Gt=n.n(Wt);function zt(e){var t=ot()(),n=ot()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}ot.a.extend(st.a),ot.a.locale("zh-tw");var Vt,Xt,Dt,Qt=function(e){var t=e.reply,n=Object(j.p)(),a=t.User,r=void 0===a?{}:a,c=r.name,o=r.account,i=r.avatar,s=t.Tweet,l=(void 0===s?{}:s).User,u=t.comment,d=t.createdAt;return Object(Y.jsx)("div",{className:Gt.a.tweetCardContainer,children:Object(Y.jsxs)("div",{className:Gt.a.tweetCard,children:[Object(Y.jsx)("img",{src:i,className:Gt.a.avatar,onClick:function(){return e=t.User.id,void n("/".concat(e));var e},alt:"avatar"}),Object(Y.jsxs)("div",{className:Gt.a.contentContainer,children:[Object(Y.jsxs)("div",{className:Gt.a.nameAndUserId,children:[Object(Y.jsx)("span",{className:Gt.a.name,children:c}),Object(Y.jsxs)("span",{className:Gt.a.userIdTime,children:["@",o,"\u30fb",zt(d)]})]}),Object(Y.jsxs)("div",{className:Gt.a.replyContainer,children:[Object(Y.jsx)("div",{className:Gt.a.reply,children:"\u56de\u8986"}),Object(Y.jsxs)("div",{className:Gt.a.replyId,children:["@",null===l||void 0===l?void 0:l.account]})," "]}),Object(Y.jsx)("div",{className:Gt.a.tweet,children:u})]})]})})},qt=function(e){var t=e.userId,n=Object(i.useState)([]),a=Object(p.a)(n,2),r=a[0],c=a[1];return console.log(t),Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:n=e.sent,console.log(n),n&&c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),r.map((function(e){return Object(Y.jsx)(Qt,{reply:e,type:"reply"},e.id)}))},Kt=(n(346),n(27)),$t=n.n(Kt),en=["title","titleId"];function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tn.apply(this,arguments)}function nn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function an(e,t){var n=e.title,a=e.titleId,r=nn(e,en);return i.createElement("svg",tn({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Vt||(Vt=i.createElement("circle",{cx:20,cy:20,r:19.5,fill:"#FF6600",stroke:"#FF6600"})),Xt||(Xt=i.createElement("g",{clipPath:"url(#clip0_70934_4305)"},i.createElement("rect",{width:24,height:24,transform:"translate(8 8)",fill:"#FF6600"}),i.createElement("path",{d:"M31.61 8.15005C31.235 7.96605 30.788 8.12005 30.604 8.49005L27.74 14.2661L26.037 12.4561C25.754 12.1531 25.279 12.1401 24.977 12.4241C24.675 12.7081 24.661 13.1841 24.945 13.4841L27.388 16.0801C27.531 16.2301 27.728 16.3151 27.934 16.3151C27.97 16.3151 28.007 16.3121 28.044 16.3071C28.287 16.2711 28.496 16.1171 28.606 15.8971L31.948 9.15705C32.132 8.78505 31.98 8.33505 31.608 8.15105L31.61 8.15005ZM27.018 24.6251C26.935 24.5611 24.974 23.0001 25.008 18.8651C25.03 16.4321 24.228 14.2691 22.752 12.7751C21.428 11.4351 19.636 10.6921 17.706 10.6831H17.693C15.763 10.6931 13.971 11.4331 12.647 12.7751C11.172 14.2701 10.37 16.4331 10.39 18.8671C10.426 23.0001 8.46701 24.5601 8.39001 24.6201C8.13001 24.8131 8.02301 25.1501 8.12401 25.4581C8.22601 25.7661 8.51401 25.9731 8.83601 25.9731H12.916C13.004 28.5431 15.109 30.6131 17.701 30.6131C20.293 30.6131 22.399 28.5431 22.486 25.9731H26.568C26.888 25.9731 27.172 25.7671 27.275 25.4631C27.378 25.159 27.273 24.8201 27.019 24.6251H27.018ZM17.7 28.5131C16.266 28.5131 15.1 27.3861 15.016 25.9731H20.384C20.299 27.3861 19.134 28.5131 17.7 28.5131Z",fill:"white"}))),Dt||(Dt=i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_70934_4305"},i.createElement("rect",{width:24,height:24,fill:"white",transform:"translate(8 8)"})))))}var rn,cn,on=i.forwardRef(an),sn=(n.p,["title","titleId"]);function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ln.apply(this,arguments)}function un(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dn(e,t){var n=e.title,a=e.titleId,r=un(e,sn);return i.createElement("svg",ln({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,rn||(rn=i.createElement("circle",{cx:20,cy:20,r:19.5,stroke:"#FF6600"})),cn||(cn=i.createElement("path",{d:"M31.24 11.26H28.815V8.83203C28.815 8.41803 28.479 8.08203 28.065 8.08203C27.651 8.08203 27.315 8.41803 27.315 8.83203V11.26H24.89C24.476 11.26 24.14 11.595 24.14 12.01C24.14 12.425 24.476 12.76 24.89 12.76H27.316V15.184C27.316 15.598 27.652 15.934 28.066 15.934C28.48 15.934 28.816 15.598 28.816 15.184V12.76H31.241C31.656 12.76 31.991 12.423 31.991 12.01C31.991 11.597 31.655 11.26 31.241 11.26H31.24ZM25.01 18.866C25.03 16.432 24.228 14.269 22.752 12.776C21.428 11.434 19.636 10.692 17.706 10.683H17.693C15.763 10.693 13.971 11.433 12.647 12.775C11.172 14.27 10.37 16.433 10.39 18.867C10.426 23 8.46704 24.56 8.39004 24.62C8.13004 24.813 8.02304 25.15 8.12404 25.458C8.22604 25.766 8.51404 25.973 8.83604 25.973H13.552C13.662 28.199 15.492 29.98 17.746 29.98C20 29.98 21.829 28.2 21.94 25.973H26.565C26.885 25.973 27.169 25.767 27.272 25.463C27.375 25.159 27.272 24.82 27.017 24.625C26.935 24.561 24.974 23 25.009 18.865L25.01 18.866ZM17.745 28.48C16.319 28.48 15.159 27.37 15.051 25.972H20.439C20.331 27.372 19.171 28.479 17.745 28.479V28.48ZM10.455 24.473C11.157 23.378 11.912 21.569 11.889 18.855C11.872 16.793 12.503 15.055 13.714 13.83C14.757 12.774 16.172 12.19 17.7 12.184C19.227 12.191 20.643 12.774 21.685 13.83C22.895 15.056 23.525 16.793 23.508 18.855C23.486 21.569 24.24 23.378 24.945 24.473H10.455V24.473Z",fill:"#FF6600"})))}var jn=i.forwardRef(dn),bn=(n.p,n.p+"static/media/email.e18716bc.svg"),mn=function(e){var t=e.userId,n=Object(i.useState)(!1),a=Object(p.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(null),s=Object(p.a)(o,2),l=s[0],u=s[1],j=Object(i.useState)(!1),f=Object(p.a)(j,2),O=f[0],h=f[1],v=kt(),_=v.updateTag,C=v.setUpdateTag,w=l||{},x=w.id,g=w.account,I=w.avatar,N=w.cover,y=w.name,k=w.introduction,A=w.followersCount,U=w.followingsCount,M=w.isCurrentUserFollowed,S=Zt(null,C),L=S.handleFollow,F=S.handleUnFollow;console.log(t);var R=M?$t.a.buttonFollowing:$t.a.buttonFollower,P=M?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8";return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,r,_]),Object(Y.jsxs)("div",{className:$t.a.container,children:[Object(Y.jsx)("div",{className:$t.a.bgContainer,children:Object(Y.jsx)("img",{src:N,alt:"background"})}),Object(Y.jsx)("div",{className:$t.a.avatarContainer,children:Object(Y.jsx)("img",{src:I,alt:"avatar"})}),Object(Y.jsxs)("div",{className:$t.a.buttonContainer,children:[Object(Y.jsx)("div",{className:$t.a.emailContainer,children:Object(Y.jsx)("img",{src:bn,alt:"email"})}),O?Object(Y.jsx)(on,{onClick:function(){return h(!O)}}):Object(Y.jsx)(jn,{onClick:function(){return h(!O)}}),Object(Y.jsx)("button",{className:R,onClick:function(){M?F(x):L(x)},children:P})]}),Object(Y.jsxs)("div",{className:$t.a.textContainer,children:[Object(Y.jsx)("h5",{className:$t.a.name,children:y}),Object(Y.jsxs)("span",{className:$t.a.account,children:["@",g]}),Object(Y.jsx)("p",{children:k}),Object(Y.jsxs)("div",{className:$t.a.linkGroup,children:[Object(Y.jsxs)(d.b,{to:"",className:$t.a.link,children:[U,"\u500b",Object(Y.jsx)("span",{children:"\u6b63\u5728\u8ffd\u96a8"})]}),Object(Y.jsxs)(d.b,{to:"",className:$t.a.link,children:[A,"\u500b",Object(Y.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})]})]}),r&&Object(Y.jsx)(je,{open:r,onClose:function(e){return c(e)},currentId:t,userData:l})]})},pn=(n(194),n(23)),fn=n.n(pn),On=function(e){var t=e.userId,n=Object(i.useState)([]),a=Object(p.a)(n,2),r=a[0],c=a[1],o=kt(),s=o.updateTag,l=o.setUpdateTag,u=At({dataItems:r,setUpdateTag:l}),d=u.likeTweets,j=u.handleLike,f=u.handleUnLike;return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:n=e.sent,console.log(n),n&&c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,s]),d?d.map((function(e,t){return Object(Y.jsx)(Ct,{tweet:e,onLike:function(){return j(e.id)},onUnLike:function(){return f(e.id)},type:"tweet"},e.id)})):null},hn=n(28),vn=n.n(hn);function _n(e){var t=ot()(),n=ot()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}ot.a.extend(st.a),ot.a.locale("zh-tw");var Cn=function(e){var t=e.like,n=e.onLike,a=e.onUnLike,r=Object(j.p)(),c=function(){console.log("like:",n,"unlike:",a,"isCurrentUserLiked:",t.isCurrentUserLiked),t.isCurrentUserLiked?a(t.Tweet.id):n(t.Tweet.id)},o=t.Tweet,i=void 0===o?{}:o,s=i.User,l=void 0===s?{}:s,u=l.name,d=l.account,b=l.avatar,m=i.description,p=i.repliesCount,f=i.likesCount,O=i.createdAt,h=t.isCurrentUserLiked;return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("div",{className:vn.a.tweetCardContainer,children:Object(Y.jsxs)("div",{className:vn.a.tweetCard,children:[Object(Y.jsx)("img",{src:b,className:vn.a.avatar,onClick:function(){return e=t.Tweet.User.id,void r("/".concat(e));var e},alt:"avatar"}),Object(Y.jsxs)("div",{className:vn.a.contentContainer,children:[Object(Y.jsxs)("div",{className:vn.a.nameAndUserId,children:[Object(Y.jsx)("span",{className:vn.a.name,children:u}),Object(Y.jsxs)("span",{className:vn.a.userIdTime,children:["@",d,"\u30fb",_n(O)]})]}),Object(Y.jsx)("div",{className:vn.a.tweet,children:m}),Object(Y.jsxs)("div",{className:vn.a.countContainer,children:[Object(Y.jsxs)("div",{className:vn.a.count,children:[Object(Y.jsx)("img",{src:Bt,alt:"reply"}),p]}),Object(Y.jsxs)("div",{className:vn.a.count,children:[h?Object(Y.jsx)(Ke,{className:vn.a.isLikeIcon,onClick:c}):Object(Y.jsx)(ze,{className:vn.a.likeIcon,onClick:c}),f]})]})]})]})})})},wn=function(e){var t=e.userId,n=G().user,a=null===n||void 0===n?void 0:n.id,r=kt(),c=r.updateTag,o=r.setUpdateTag,s=Object(i.useState)([]),l=Object(p.a)(s,2),u=l[0],d=l[1],j=At({dataItems:u,currentUserId:a,setUpdateTag:o}),f=j.likeTweets,O=j.handleLike,h=j.handleUnLike;return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:n=e.sent,console.log(n),n&&d(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,c]),console.log("likeTweets",f),f?f.map((function(e,t){return Object(Y.jsx)(Cn,{like:e,onLike:function(){return O(e.Tweet.id)},onUnLike:function(){return h(e.Tweet.id)},type:"like"},e.id)})):null},xn=function(e){var t=e.userId,n=Object(j.p)(),a=Object(i.useState)("\u63a8\u6587"),r=Object(p.a)(a,2),c=r[0],o=r[1],s=Object(j.m)();Object(i.useEffect)((function(){switch(s.pathname.split("/").pop()){case"tweets":default:o("\u63a8\u6587");break;case"replies":o("\u56de\u8986");break;case"likes":o("\u559c\u6b61\u7684\u5167\u5bb9")}}),[s.pathname]);var l=function(e){switch(o(e),e){case"\u63a8\u6587":default:n("tweets");break;case"\u56de\u8986":n("replies");break;case"\u559c\u6b61\u7684\u5167\u5bb9":n("likes")}};return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:fn.a.tabContainer,children:[Object(Y.jsx)("div",{className:"".concat(fn.a.tab," ").concat("\u63a8\u6587"===c?fn.a.active:""),onClick:function(){return l("\u63a8\u6587")},children:"\u63a8\u6587"}),Object(Y.jsx)("div",{className:"".concat(fn.a.tab," ").concat("\u56de\u8986"===c?fn.a.active:""),onClick:function(){return l("\u56de\u8986")},children:"\u56de\u8986"}),Object(Y.jsx)("div",{className:"".concat(fn.a.tab," ").concat("\u559c\u6b61\u7684\u5167\u5bb9"===c?fn.a.active:""),onClick:function(){return l("\u559c\u6b61\u7684\u5167\u5bb9")},children:"\u559c\u6b61\u7684\u5167\u5bb9"})]}),Object(Y.jsxs)(j.d,{children:[Object(Y.jsx)(j.b,{path:"tweets",element:Object(Y.jsx)(On,{userId:t})}),Object(Y.jsx)(j.b,{path:"replies",element:Object(Y.jsx)(qt,{userId:t})}),Object(Y.jsx)(j.b,{path:"likes",element:Object(Y.jsx)(wn,{userId:t})}),Object(Y.jsx)(j.b,{path:"*",element:Object(Y.jsx)(On,{userId:t})})]})]})},gn=n(19),In=n.n(gn);ot.a.extend(st.a),ot.a.locale("zh-tw");var Nn=function(e){var t,n=e.tweet,a=e.tweetId,r=e.currentUserAvatar,c=e.onReplySubmit,o=(e.setUpdateTag,e.onUnLike),s=e.onLike,l=Object(i.useState)(!1),u=Object(p.a)(l,2),d=u[0],j=u[1],b=n||{},m=b.repliesCount,f=b.likesCount,O=b.description,h=b.createdAt,v=b.User,_=b.isCurrentUserLiked,C=v||{},w=C.account,x=C.avatar,g=C.name,I=function(){_?o(a):s(a)};return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{className:In.a.container,children:[Object(Y.jsxs)("div",{className:In.a.tweetContainer,children:[Object(Y.jsxs)("div",{className:In.a.titleContainer,children:[Object(Y.jsx)("div",{className:In.a.avatarContainer,children:Object(Y.jsx)("img",{src:x,alt:"avatar"})}),Object(Y.jsxs)("div",{className:In.a.nameContainer,children:[Object(Y.jsx)("h5",{className:In.a.name,children:g}),Object(Y.jsxs)("span",{className:In.a.account,children:["@",w]})]})]}),Object(Y.jsx)("p",{className:In.a.introduction,children:O}),Object(Y.jsx)("p",{className:In.a.time,children:(t=h,ot()(t).format("A hh:mm\u30fbYYYY\u5e74MM\u6708DD\u65e5 "))})]}),Object(Y.jsxs)("div",{className:In.a.dataContainer,children:[Object(Y.jsxs)("div",{className:In.a.data,children:[m,Object(Y.jsx)("span",{children:"\u56de\u8986"})]}),Object(Y.jsxs)("div",{className:In.a.data,children:[f,Object(Y.jsx)("span",{children:"\u559c\u6b61\u6b21\u6578"})]})]}),Object(Y.jsxs)("div",{className:In.a.iconContainer,children:[Object(Y.jsx)("div",{className:In.a.icon,children:Object(Y.jsx)(rt,{onClick:function(){j(!0)}})}),Object(Y.jsx)("div",{className:In.a.icon,children:_?Object(Y.jsx)(Ke,{className:In.a.isLikeIcon,onClick:I}):Object(Y.jsx)(ze,{className:In.a.likeIcon,onClick:I})})]})]}),d&&Object(Y.jsx)(Ot,{open:d,onClose:function(e){return j(e)},tweet:n,tweetId:a,currentUserAvatar:r,onReplySubmit:c})]})},yn=n(38),kn=n.n(yn);function An(e){var t=ot()(),n=ot()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}ot.a.extend(st.a),ot.a.locale("zh-tw");var Un,Mn=function(e){var t=e.reply,n=t.User,a=void 0===n?{}:n,r=a.name,c=a.account,o=a.avatar,i=t.Tweet,s=(void 0===i?{}:i).User,l=(t.TweetId,t.comment),u=t.createdAt;return Object(Y.jsx)("div",{className:kn.a.tweetCardContainer,children:Object(Y.jsxs)("div",{className:kn.a.tweetCard,children:[Object(Y.jsx)("img",{src:o,className:kn.a.avatar,alt:"avatar"}),Object(Y.jsxs)("div",{className:kn.a.contentContainer,children:[Object(Y.jsxs)("div",{className:kn.a.nameAndUserId,children:[Object(Y.jsx)("span",{className:kn.a.name,children:r}),Object(Y.jsxs)("span",{className:kn.a.userIdTime,children:["@",c,"\u30fb",An(u)]})]}),Object(Y.jsxs)("div",{className:kn.a.replyContainer,children:[Object(Y.jsx)("div",{className:kn.a.reply,children:"\u56de\u8986"}),Object(Y.jsxs)("div",{className:kn.a.replyId,children:["@",null===s||void 0===s?void 0:s.account]})," "]}),Object(Y.jsx)("div",{className:kn.a.tweet,children:l})]})]})})},Sn=function(e){var t=e.tweetId,n=e.newReply,a=Object(i.useState)([]),r=Object(p.a)(a,2),c=r[0],o=r[1];return console.log(t),Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t);case 2:n=e.sent,console.log(n),n&&o(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),c.map((function(e){return Object(Y.jsx)(Mn,{reply:e,type:"reply"},e.id)}))},Ln=function(){var e=Object(j.r)().tweetId,t=Object(i.useState)(null),n=Object(p.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)(null),o=Object(p.a)(c,2),s=o[0],l=o[1],u=Object(i.useState)(null),d=Object(p.a)(u,2),f=d[0],O=d[1],h=Object(i.useState)(null),v=Object(p.a)(h,2),_=v[0],C=(v[1],kt()),w=C.updateTag,x=C.setUpdateTag,g=Object(i.useState)(!1),I=Object(p.a)(g,2),N=I[0],y=(I[1],G().user),k=y&&y.id,A=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(t);case 2:n=e.sent,t!==k&&n&&"success"===n.status&&x(!w);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It(t);case 2:n=e.sent,t!==k&&n&&"success"===n.status&&x(!w);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var t=function(){var t=Object(m.a)(Object(b.a)().mark((function t(){var n,a,c,o,i,s,u;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce(e);case 2:(n=t.sent)&&(console.log(n),a=n.description,c=n.repliesCount,o=n.likesCount,i=n.createdAt,s=n.User,u=n.isCurrentUserLiked,r({description:a,repliesCount:c,likesCount:o,createdAt:i,User:s,isCurrentUserLiked:u}),l(n.Replies));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e,w]),console.log(s),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Nn,{tweetId:e,tweet:a,currentUserAvatar:_,updateTag:w,onReplySubmit:function(e){O(e)},isCurrentUserLiked:N,onLike:A,onUnLike:U}),Object(Y.jsx)(Sn,{tweetId:e,newReply:f})]})},Tn=function(){var e=Object(i.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(i.useState)(!0),u=Object(p.a)(l,2),f=u[0],h=u[1],v=Object(i.useState)(""),_=Object(p.a)(v,2),C=_[0],w=_[1],g=G(),I=g.login,N=g.isAuthenticated,y=g.user,k=Object(j.p)(),A=[{label:"\u5e33\u865f",id:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:n,onChange:function(e){return a(e)}},{label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:o,onChange:function(e){return s(e)}}],U=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()&&o.trim()){e.next=4;break}return de.a.fire({title:"\u8acb\u5148\u767b\u5165\u5e33\u865f",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),e.abrupt("return");case 4:return e.next=6,I({account:n,password:o});case 6:if(!(a=e.sent).success){e.next=15;break}if("user"!==a.role){e.next=13;break}return de.a.fire({title:"\u767b\u5165\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),h(!1),k("/main"),e.abrupt("return");case 13:e.next=19;break;case 15:return de.a.fire({title:"\u767b\u5165\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),h(!0),w(a.message),e.abrupt("return");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){N&&k("/main")}),[k,N,y]),Object(Y.jsxs)("div",{className:O.a.container,children:[Object(Y.jsx)(x,{className:O.a.logo}),Object(Y.jsx)("h3",{className:O.a.title,children:"\u767b\u5165Alphitter"}),Object(Y.jsxs)("form",{className:O.a.form,onSubmit:U,children:[A.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,o=e.maxLength,i=e.onChange;return Object(Y.jsx)(V,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:o,onChange:i,responseError:f,errorInfo:C},n)})),Object(Y.jsx)("button",{className:O.a.button,type:"submit",children:"\u767b\u5165"})]}),Object(Y.jsxs)("div",{className:O.a.linkGroup,children:[Object(Y.jsx)(d.b,{to:"/register",className:O.a.link,children:"\u8a3b\u518a"}),"\u30fb",Object(Y.jsx)(d.b,{to:"/admin",className:O.a.link,children:"\u5f8c\u53f0\u767b\u5165"})]})]})},Fn=n(51),Rn=n.n(Fn),Pn=function(){var e=Object(i.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(i.useState)(!0),u=Object(p.a)(l,2),f=u[0],O=u[1],h=Object(i.useState)(""),v=Object(p.a)(h,2),_=v[0],C=v[1],w=G(),g=w.adminLogin,I=w.isAuthenticated,N=w.user,y=Object(j.p)(),k=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()&&o.trim()){e.next=4;break}return de.a.fire({title:"\u8acb\u5148\u767b\u5165\u5e33\u865f",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),e.abrupt("return");case 4:return e.next=6,g({account:n,password:o});case 6:if(!(a=e.sent).success){e.next=14;break}if("admin"!==a.role){e.next=12;break}return de.a.fire({title:"\u767b\u5165\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),O(!1),e.abrupt("return");case 12:e.next=18;break;case 14:return de.a.fire({title:"\u767b\u5165\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),O(!0),C(a.message),e.abrupt("return");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){I&&y("/admin/list")}),[y,I,N]);var A=[{label:"\u5e33\u865f",id:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:n,onChange:function(e){return a(e)}},{label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:o,onChange:function(e){return s(e)}}];return Object(Y.jsxs)("div",{className:Rn.a.container,children:[Object(Y.jsx)(x,{className:Rn.a.logo}),Object(Y.jsx)("h3",{className:Rn.a.title,children:"\u5f8c\u53f0\u767b\u5165"}),Object(Y.jsxs)("form",{className:Rn.a.form,onSubmit:k,children:[A.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,o=e.maxLength,i=e.onChange;return Object(Y.jsx)(V,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:o,onChange:i,responseError:f,errorInfo:_},n)})),Object(Y.jsx)("button",{className:Rn.a.button,type:"submit",children:"\u767b\u5165"})]}),Object(Y.jsx)("div",{className:Rn.a.linkGroup,children:Object(Y.jsx)(d.b,{to:"/login",className:Rn.a.link,children:"\u524d\u53f0\u767b\u5165"})})]})},En=n(52),Zn=n.n(En),Hn=function(){var e=Object(i.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(i.useState)(""),u=Object(p.a)(l,2),f=u[0],O=u[1],h=Object(i.useState)(""),v=Object(p.a)(h,2),_=v[0],C=v[1],w=Object(i.useState)(""),g=Object(p.a)(w,2),I=g[0],N=g[1],y=Object(i.useState)(!1),k=Object(p.a)(y,2),A=k[0],U=k[1],M=Object(i.useState)(""),S=Object(p.a)(M,2),L=S[0],T=S[1],F=G(),R=F.register,P=(F.isAuthenticated,F.user,Object(j.p)()),E=[{label:"\u5e33\u865f",id:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:n,onChange:function(e){return a(e)}},{label:"\u540d\u7a31",id:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u4f7f\u7528\u8005\u540d\u7a31",value:o,maxLength:50,onChange:function(e){return s(e)}},{label:"Email",id:"email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",value:_,onChange:function(e){return C(e)}},{label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:f,onChange:function(e){return O(e)}},{label:"\u5bc6\u78bc\u78ba\u8a8d",id:"\u5bc6\u78bc\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",value:I,onChange:function(e){return N(e)}}],Z=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var a,r,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()&&f.trim()&&o.trim()&&I.trim()&&_.trim()){e.next=4;break}return de.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u70ba\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),e.abrupt("return");case 4:return e.next=6,R({account:n,name:o,password:f,email:_,checkPassword:I});case 6:if(a=e.sent,r=a.success,c=a.message,!r){e.next=15;break}return"\u8a3b\u518a\u6210\u529f",de.a.fire({title:"\u8a3b\u518a\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),U(!1),P("/login"),e.abrupt("return");case 15:if(r){e.next=20;break}return de.a.fire({title:"\u8a3b\u518a\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),U(!0),T(c),e.abrupt("return");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)("div",{className:Zn.a.container,children:[Object(Y.jsx)(x,{className:Zn.a.logo}),Object(Y.jsx)("h3",{className:Zn.a.title,children:"\u5efa\u7acb\u4f60\u7684\u5e33\u865f"}),Object(Y.jsxs)("form",{className:Zn.a.form,onSubmit:Z,children:[E.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,o=e.maxLength,i=e.onChange;return Object(Y.jsx)(V,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:o,onChange:i,responseError:A,errorInfo:L},n)})),Object(Y.jsx)("button",{className:Zn.a.button,type:"submit",children:"\u8a3b\u518a"})]}),Object(Y.jsx)("div",{className:Zn.a.linkGroup,children:Object(Y.jsx)(d.b,{to:"/login",className:Zn.a.link,children:"\u53d6\u6d88"})})]})},Bn=n(64),Yn=n.n(Bn),Jn=function(){var e=Object(i.useState)(null),t=Object(p.a)(e,2),n=t[0],a=t[1],r=function(e){a(e)},c=G(),o=c.isAuthenticated,s=c.user;console.log(s);var l=Object(j.p)();return Object(i.useEffect)((function(){o||l("/login")}),[l,o]),Object(Y.jsx)("div",{className:Yn.a.homeContainer,children:Object(Y.jsxs)("div",{className:Yn.a.homeColumn,children:[Object(Y.jsx)("div",{className:Yn.a.leftColumn,children:Object(Y.jsx)(Pe,{onTweetSubmit:r})}),Object(Y.jsxs)("div",{className:Yn.a.middleColumn,children:[Object(Y.jsx)(Ne,{}),Object(Y.jsx)(He,{user:s,onTweetSubmit:r}),Object(Y.jsx)(Ut,{newTweet:n})]}),Object(Y.jsx)("div",{className:Yn.a.rightColumn,children:Object(Y.jsx)(Ht,{})})]})})},Wn=function(e){var t=e.userId;return console.log("".concat(t," in Main")),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(be,{userId:t}),Object(Y.jsx)(xn,{userId:t})]})},Gn=n(65),zn=n.n(Gn),Vn=function(){var e=G().user;Object(j.p)();return console.log(e),Object(Y.jsx)("div",{className:zn.a.profileContainer,children:Object(Y.jsxs)("div",{className:zn.a.homeColumn,children:[Object(Y.jsx)("div",{className:zn.a.leftColumn,children:Object(Y.jsx)(Pe,{})}),Object(Y.jsxs)("div",{className:zn.a.middleColumn,children:[Object(Y.jsx)(Ne,{userId:null===e||void 0===e?void 0:e.id}),Object(Y.jsx)(Wn,{userId:null===e||void 0===e?void 0:e.id})]}),Object(Y.jsx)("div",{className:zn.a.rightColumn,children:Object(Y.jsx)(Ht,{})})]})})},Xn=n(41),Dn=n.n(Xn),Qn=function(){var e=Object(i.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(i.useState)(""),u=Object(p.a)(l,2),d=u[0],f=u[1],O=Object(i.useState)(""),h=Object(p.a)(O,2),v=h[0],_=h[1],C=Object(i.useState)(""),w=Object(p.a)(C,2),x=w[0],g=w[1],I=Object(i.useState)(!1),N=Object(p.a)(I,2),y=N[0],k=N[1],A=Object(i.useState)(""),U=Object(p.a)(A,2),M=U[0],S=U[1],L=Object(j.p)(),F=(Object(j.m)().pathname,G()),R=F.putUserSetting,P=(F.isAuthenticated,F.user),E=P&&P.id,Z=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var a,r,c,i;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=P.id,console.log(a),t.preventDefault(),null!==n&&void 0!==n&&n.trim()&&null!==v&&void 0!==v&&v.trim()&&null!==o&&void 0!==o&&o.trim()&&null!==x&&void 0!==x&&x.trim()&&null!==d&&void 0!==d&&d.trim()){e.next=6;break}return de.a.fire({title:"\u5167\u5bb9\u4e0d\u53ef\u70ba\u7a7a\u767d",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),e.abrupt("return");case 6:return e.next=8,R({id:a,account:n,name:o,email:d,password:v,checkPassword:x});case 8:if(r=e.sent,c=r.success,i=r.message,!c){e.next=16;break}return de.a.fire({title:"\u7de8\u8f2f\u6210\u529f",icon:"success",showConfirmButton:!1,timer:2e3,position:"top"}),k(!1),L("/profile"),e.abrupt("return");case 16:if(c){e.next=21;break}return de.a.fire({title:"\u7de8\u8f2f\u5931\u6557",icon:"error",showConfirmButton:!1,timer:2e3,position:"top"}),k(!0),S(i),e.abrupt("return");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,r,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(E);case 2:(t=e.sent)&&(n=t.account,r=t.email,c=t.name,a(n),s(c),f(r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[E]);var H=[{label:"\u5e33\u865f",id:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:n,onChange:function(e){return a(e)}},{label:"\u540d\u7a31",id:"name",type:"text",placeholder:"\u8acb\u8f38\u5165\u4f7f\u7528\u8005\u540d\u7a31",value:o,maxLength:50,onChange:function(e){return s(e)}},{label:"Email",id:"email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",value:d,onChange:function(e){return f(e)}},{label:"\u5bc6\u78bc",id:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:v,onChange:function(e){return _(e)}},{label:"\u5bc6\u78bc\u78ba\u8a8d",id:"\u5bc6\u78bc\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",value:x,onChange:function(e){return g(e)}}];return Object(Y.jsx)("div",{className:Dn.a.homeContainer,children:Object(Y.jsxs)("div",{className:Dn.a.homeColumn,children:[Object(Y.jsx)("div",{className:Dn.a.leftColumn,children:Object(Y.jsx)(Pe,{})}),Object(Y.jsxs)("div",{className:Dn.a.middleColumn,children:[Object(Y.jsx)("div",{className:Dn.a.settingHeader,children:"\u5e33\u6236\u8a2d\u5b9a"}),Object(Y.jsxs)("form",{className:Dn.a.form,onSubmit:Z,children:[H.map((function(e){var t=e.label,n=e.id,a=e.type,r=e.placeholder,c=e.value,o=e.maxLength,i=e.onChange;return Object(Y.jsx)(V,{label:t,id:n,type:a,placeholder:r,value:c,maxLength:o,onChange:i,responseError:y,errorInfo:M},n)})),Object(Y.jsx)("button",{className:Dn.a.button,type:"submit",children:"\u5132\u5b58"})]})]}),Object(Y.jsx)("div",{className:Dn.a.rightColumn,children:Object(Y.jsx)("div",{className:Dn.a.navbarContainer})})]})})},qn=n(66),Kn=n.n(qn),$n=function(){return Object(Y.jsx)("div",{className:Kn.a.replyContainer,children:Object(Y.jsxs)("div",{className:Kn.a.homeColumn,children:[Object(Y.jsx)("div",{className:Kn.a.leftColumn,children:Object(Y.jsx)(Pe,{})}),Object(Y.jsxs)("div",{className:Kn.a.middleColumn,children:[Object(Y.jsx)(Ne,{}),Object(Y.jsx)(Ln,{})]}),Object(Y.jsx)("div",{className:Kn.a.rightColumn,children:Object(Y.jsx)(Ht,{})})]})})},ea=n(197),ta=n.n(ea),na=function(e){var t=e.userId,n=e.loginUserId,a=Object(i.useState)([]),r=Object(p.a)(a,2),c=r[0],o=r[1],s=kt(),l=s.updateTag,u=s.setUpdateTag,d=Zt(n,o,u),j=d.handleFollow,f=d.handleUnFollow;return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,console.log(t),t&&o(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,l]),Object(Y.jsxs)("div",{className:ta.a.recommendListContainer,children:[Object(Y.jsx)("h5",{className:"justify center",children:"\u63a8\u85a6\u8ddf\u96a8"}),c.map((function(e){return Object(Y.jsx)(Ft,{user:e,loginUserId:n,onFollow:j,onUnfollow:f},e.id)}))]})},aa=n(47),ra=n.n(aa),ca=function(e){var t=e.user,n=(e.loginUserId,e.onFollow),a=e.onUnfollow,r=t.isCurrentUserFollowed?ra.a.buttonFollowing:ra.a.buttonFollower,c=t.isCurrentUserFollowed?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8",o=Object(j.p)();return Object(Y.jsx)("div",{className:ra.a.followCardContainer,children:Object(Y.jsxs)("div",{className:ra.a.followCard,children:[Object(Y.jsx)("img",{className:ra.a.avatar,src:t.avatar,onClick:function(){return e=t.id,void o("/".concat(e));var e},alt:"Avatar"}),Object(Y.jsxs)("div",{className:ra.a.userInfo,children:[Object(Y.jsx)("div",{className:ra.a.name,children:t.name}),Object(Y.jsx)("span",{className:ra.a.intro,children:t.introduction})]}),Object(Y.jsx)("button",{className:r,onClick:function(){t.isCurrentUserFollowed?a(t.id):n(t.id)},children:c})]})})},oa=function(e){var t=e.userId,n=e.loginUserId,a=Object(j.p)(),r=Object(i.useState)("\u6b63\u5728\u8ffd\u96a8"),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(j.m)(),u=Object(i.useState)([]),d=Object(p.a)(u,2),f=d[0],O=d[1],h=Object(i.useState)([]),v=Object(p.a)(h,2),_=v[0],C=v[1],w=kt(),x=w.updateTag,g=w.setUpdateTag,I=Zt(n,O,C,g),N=I.handleFollow,y=I.handleUnFollow;Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:return n=e.sent,e.next=5,Z(t);case 5:a=e.sent,console.log("followerData:",a),console.log("followingData:",n),n&&O(n.map((function(e){return Object(wt.a)(Object(wt.a)({},e.Following),{},{isCurrentUserFollowed:"true"===e.Following.isCurrentUserFollowed})}))),a&&C(a.map((function(e){return Object(wt.a)(Object(wt.a)({},e.Follower),{},{isCurrentUserFollowed:"true"===e.Follower.isCurrentUserFollowed})})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,x]),Object(i.useEffect)((function(){switch(l.pathname.split("/").pop()){case"followers":default:s("\u8ffd\u96a8\u8005");break;case"followings":s("\u6b63\u5728\u8ffd\u96a8")}}),[l.pathname]);var k=function(e){switch(console.log("Click event:",e),s(e),e){case"\u8ffd\u96a8\u8005":default:a("/".concat(t,"/followers"));break;case"\u6b63\u5728\u8ffd\u96a8":a("/".concat(t,"/followings"))}},A=function(){var e=Array.isArray(f)?f:Array.from(f);return 0===e.length?Object(Y.jsx)("div",{children:"No following users"}):e.map((function(e){return Object(Y.jsx)(ca,{user:e,loginUserId:n,onFollow:N,onUnfollow:y},e.id)}))},U=function(){var e=Array.isArray(_)?_:Array.from(_);return 0===e.length?Object(Y.jsx)("div",{children:"No follower users"}):e.map((function(e){return Object(Y.jsx)(ca,{user:e,loginUserId:n,onFollow:N,onUnfollow:y},e.id)}))};return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:fn.a.tabContainer,children:[Object(Y.jsx)("div",{className:"".concat(fn.a.tab," ").concat("\u8ffd\u96a8\u8005"===o?fn.a.active:""),onClick:function(){return k("\u8ffd\u96a8\u8005")},children:"\u8ffd\u96a8\u8005"}),Object(Y.jsx)("div",{className:"".concat(fn.a.tab," ").concat("\u6b63\u5728\u8ffd\u96a8"===o?fn.a.active:""),onClick:function(){return k("\u6b63\u5728\u8ffd\u96a8")},children:"\u6b63\u5728\u8ffd\u96a8"})]}),Object(Y.jsxs)(j.d,{children:[Object(Y.jsx)(j.b,{path:"followings",element:Object(Y.jsx)(A,{})}),Object(Y.jsx)(j.b,{path:"followers",element:Object(Y.jsx)(U,{})})]},x)]})},ia=n(67),sa=n.n(ia),la=function(){var e=Object(j.r)().id,t=G(),n=t.user,a=t.isAuthenticated;console.log(n);var r=Object(j.p)(),c=Object(i.useState)(null),o=Object(p.a)(c,2),s=o[0],l=o[1];return Object(i.useEffect)((function(){a||r("/login");var t=function(){var t=Object(m.a)(Object(b.a)().mark((function t(){var n;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:n=t.sent,l(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[r,a,e]),Object(Y.jsx)("div",{className:sa.a.followContainer,children:Object(Y.jsxs)("div",{className:sa.a.homeColumn,children:[Object(Y.jsx)("div",{className:sa.a.leftColumn,children:Object(Y.jsx)(Pe,{userId:e})}),Object(Y.jsxs)("div",{className:sa.a.middleColumn,children:[Object(Y.jsx)(Ne,{userId:s&&s.id}),Object(Y.jsx)(oa,{userId:e,loginUserId:n&&n.id})]}),Object(Y.jsx)("div",{className:sa.a.rightColumn,children:Object(Y.jsx)(na,{userId:e,loginUserId:n&&n.id})})]})})},ua=n(68),da=n.n(ua),ja=function(e){var t=e.userId;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(mn,{userId:t}),Object(Y.jsx)(xn,{userId:t})]})},ba=function(){var e=G().user,t=Object(j.r)().id||e.id;return Object(Y.jsx)("div",{className:da.a.profileContainer,children:Object(Y.jsxs)("div",{className:da.a.homeColumn,children:[Object(Y.jsx)("div",{className:da.a.leftColumn,children:Object(Y.jsx)(Pe,{})}),Object(Y.jsxs)("div",{className:da.a.middleColumn,children:[Object(Y.jsx)(Ne,{userId:t}),Object(Y.jsx)(ja,{userId:t})]}),Object(Y.jsx)("div",{className:da.a.rightColumn,children:Object(Y.jsx)(Ht,{})})]})})},ma=function(e){var t=e.children,n=G(),a=n.user;return n.isAuthenticated?"admin"!==a.role?Object(Y.jsx)(j.a,{to:"/login",replace:!0}):t:Object(Y.jsx)(j.a,{to:"/login",replace:!0})},pa=n(98),fa=n.n(pa),Oa=function(){var e=Object(j.p)(),t=Object(j.m)(),n=Object(i.useState)(""),a=Object(p.a)(n,2),r=(a[0],a[1]),c=Object(i.useState)(!1),o=Object(p.a)(c,2),s=o[0],l=o[1];Object(i.useEffect)((function(){l(t.pathname)}),[t]);var u=function(e){r(e),l(!0)};return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{className:ke.a.navbarContainer,children:[Object(Y.jsx)("div",{className:ke.a.NavbarLogo,children:Object(Y.jsx)("img",{src:Ae,alt:""})}),Object(Y.jsxs)("div",{className:ke.a.NavbarGroup,children:[Object(Y.jsx)(d.b,{to:"/admin/list",children:Object(Y.jsxs)("div",{className:"".concat(ke.a.NavbarItem," ").concat("/admin/list"===t.pathname?ke.a.active:""),onClick:function(){return u("admin/list")},children:[Object(Y.jsx)("img",{className:ke.a.NavbarPng,src:"/admin/list"===s?Te:Ue,alt:"Home"}),Object(Y.jsx)("span",{children:"\u63a8\u6587\u6e05\u55ae"})]})}),Object(Y.jsx)(d.b,{to:"/admin/user",children:Object(Y.jsxs)("div",{className:"".concat(ke.a.NavbarItem," ").concat("/admin/user"===t.pathname?ke.a.active:""),onClick:function(){return u("admin/user")},children:[Object(Y.jsx)("img",{className:ke.a.NavbarPng,src:"/admin/user"===s?Re:Me,alt:"Icon"}),Object(Y.jsx)("span",{children:"\u4f7f\u7528\u8005\u5217\u8868"})]})})]})]}),Object(Y.jsxs)("div",{className:ke.a.logout,onClick:function(){localStorage.removeItem("token"),e("/login")},children:[Object(Y.jsx)("img",{className:ke.a.NavbarPng,src:Le,alt:"logout"}),"\u767b\u51fa"]})]})},ha="https://tranquil-basin-75437.herokuapp.com/api",va=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZW1haWwiOiJyb290QGV4YW1wbGUuY29tIiwibmFtZSI6InJvb3QiLCJhdmF0YXIiOiJodHRwczovL2kucHJhdmF0YXIuY2MvMzAwP2ltZz01NCIsImludHJvZHVjdGlvbiI6ImxhYm9yaW9zYW0gY29uc2VxdWF0dXIgb3B0aW8gYXNwZXJuYXR1ciBuZWNlc3NpdGF0aWJ1cyIsInJvbGUiOiJhZG1pbiIsImFjY291bnQiOiJyb290IiwiY292ZXIiOiJodHRwczovL3BpY3N1bS5waG90b3MvaWQvNzUvNjQwLzQ4MCIsImNyZWF0ZWRBdCI6IjIwMjMtMDYtMTRUMDE6MzE6MTQuMDAwWiIsInVwZGF0ZWRBdCI6IjIwMjMtMDYtMTRUMDE6MzE6MTQuMDAwWiIsImlhdCI6MTY4Njc1Nzg4MiwiZXhwIjoxNjg5MzQ5ODgyfQ.ha911_tfpRAaL3FS7CcjMucDbLz84_03pgX7s0ehNb4",e.prev=1,e.next=4,y.a.get("".concat(ha,"/admin/usersdata"),{headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZW1haWwiOiJyb290QGV4YW1wbGUuY29tIiwibmFtZSI6InJvb3QiLCJhdmF0YXIiOiJodHRwczovL2kucHJhdmF0YXIuY2MvMzAwP2ltZz01NCIsImludHJvZHVjdGlvbiI6ImxhYm9yaW9zYW0gY29uc2VxdWF0dXIgb3B0aW8gYXNwZXJuYXR1ciBuZWNlc3NpdGF0aWJ1cyIsInJvbGUiOiJhZG1pbiIsImFjY291bnQiOiJyb290IiwiY292ZXIiOiJodHRwczovL3BpY3N1bS5waG90b3MvaWQvNzUvNjQwLzQ4MCIsImNyZWF0ZWRBdCI6IjIwMjMtMDYtMTRUMDE6MzE6MTQuMDAwWiIsInVwZGF0ZWRBdCI6IjIwMjMtMDYtMTRUMDE6MzE6MTQuMDAwWiIsImlhdCI6MTY4Njc1Nzg4MiwiZXhwIjoxNjg5MzQ5ODgyfQ.ha911_tfpRAaL3FS7CcjMucDbLz84_03pgX7s0ehNb4")}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get user",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),_a=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZW1haWwiOiJyb290QGV4YW1wbGUuY29tIiwibmFtZSI6InJvb3QiLCJhdmF0YXIiOiJodHRwczovL2kucHJhdmF0YXIuY2MvMzAwP2ltZz05IiwiaW50cm9kdWN0aW9uIjoibW9sZXN0aWFlIHZvbHVwdGF0ZW0gcXVpZGVtIHZlbCBsYWJvcnVtIiwicm9sZSI6ImFkbWluIiwiYWNjb3VudCI6InJvb3QiLCJjb3ZlciI6Imh0dHBzOi8vcGljc3VtLnBob3Rvcy9pZC85OS82NDAvNDgwIiwiY3JlYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwidXBkYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwiaWF0IjoxNjg2NjcwNTI0LCJleHAiOjE2ODkyNjI1MjR9.msbUeNSLRLhAnFnnbijxwjgbFZnW5pAYu6xyu9jrYZs",e.prev=1,e.next=4,y.a.get("".concat(ha,"/admin/tweets"),{headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZW1haWwiOiJyb290QGV4YW1wbGUuY29tIiwibmFtZSI6InJvb3QiLCJhdmF0YXIiOiJodHRwczovL2kucHJhdmF0YXIuY2MvMzAwP2ltZz05IiwiaW50cm9kdWN0aW9uIjoibW9sZXN0aWFlIHZvbHVwdGF0ZW0gcXVpZGVtIHZlbCBsYWJvcnVtIiwicm9sZSI6ImFkbWluIiwiYWNjb3VudCI6InJvb3QiLCJjb3ZlciI6Imh0dHBzOi8vcGljc3VtLnBob3Rvcy9pZC85OS82NDAvNDgwIiwiY3JlYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwidXBkYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwiaWF0IjoxNjg2NjcwNTI0LCJleHAiOjE2ODkyNjI1MjR9.msbUeNSLRLhAnFnnbijxwjgbFZnW5pAYu6xyu9jrYZs")}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:cannot get admin all tweets",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Ca=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZW1haWwiOiJyb290QGV4YW1wbGUuY29tIiwibmFtZSI6InJvb3QiLCJhdmF0YXIiOiJodHRwczovL2kucHJhdmF0YXIuY2MvMzAwP2ltZz05IiwiaW50cm9kdWN0aW9uIjoibW9sZXN0aWFlIHZvbHVwdGF0ZW0gcXVpZGVtIHZlbCBsYWJvcnVtIiwicm9sZSI6ImFkbWluIiwiYWNjb3VudCI6InJvb3QiLCJjb3ZlciI6Imh0dHBzOi8vcGljc3VtLnBob3Rvcy9pZC85OS82NDAvNDgwIiwiY3JlYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwidXBkYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwiaWF0IjoxNjg2NjcwNTI0LCJleHAiOjE2ODkyNjI1MjR9.msbUeNSLRLhAnFnnbijxwjgbFZnW5pAYu6xyu9jrYZs",e.prev=1,e.next=4,y.a.delete("".concat(ha,"/admin/tweets/").concat(t),{headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZW1haWwiOiJyb290QGV4YW1wbGUuY29tIiwibmFtZSI6InJvb3QiLCJhdmF0YXIiOiJodHRwczovL2kucHJhdmF0YXIuY2MvMzAwP2ltZz05IiwiaW50cm9kdWN0aW9uIjoibW9sZXN0aWFlIHZvbHVwdGF0ZW0gcXVpZGVtIHZlbCBsYWJvcnVtIiwicm9sZSI6ImFkbWluIiwiYWNjb3VudCI6InJvb3QiLCJjb3ZlciI6Imh0dHBzOi8vcGljc3VtLnBob3Rvcy9pZC85OS82NDAvNDgwIiwiY3JlYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwidXBkYXRlZEF0IjoiMjAyMy0wNi0xM1QxNTowNjowNS4wMDBaIiwiaWF0IjoxNjg2NjcwNTI0LCJleHAiOjE2ODkyNjI1MjR9.msbUeNSLRLhAnFnnbijxwjgbFZnW5pAYu6xyu9jrYZs")}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error:Admin cannot delete tweet",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),wa=n(29),xa=n.n(wa),ga=(n.p,["title","titleId"]);function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ia.apply(this,arguments)}function Na(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ya(e,t){var n=e.title,a=e.titleId,r=Na(e,ga);return i.createElement("svg",Ia({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Un||(Un=i.createElement("path",{d:"M8.8 7.2002H5.6V3.9002C5.6 3.5002 5.3 3.1002 4.8 3.1002C4.3 3.1002 4.1 3.5002 4.1 3.9002V7.2002H0.8C0.4 7.2002 0 7.5002 0 8.0002C0 8.5002 0.3 8.8002 0.8 8.8002H4.1V12.1002C4.1 12.5002 4.4 12.9002 4.9 12.9002C5.4 12.9002 5.7 12.6002 5.7 12.1002V8.7002H9C9.4 8.7002 9.8 8.4002 9.8 7.9002C9.8 7.4002 9.3 7.2002 8.8 7.2002ZM23.8 2.3002V2.2002H23.7C23.6 2.2002 14.5 3.4002 9.3 13.9002C5.5 21.5002 5.7 23.8002 6 23.8002C6.3 23.9002 9.4 17.3002 12.7 14.6002C17.9 13.5002 19.3 11.0002 19.3 11.0002C19.3 11.0002 17.8 11.2002 17.2 11.2002C16.4 11.2002 15.8 11.0002 15.5 10.9002C16.8 9.7002 17.9 9.4002 19 9.2002C19.9 9.0002 20.8 8.8002 22 8.0002C24.2 6.4002 23.9 2.5002 23.8 2.3002Z",fill:"black"})))}var ka,Aa=i.forwardRef(ya),Ua=(n.p,function(e){var t=e.user,n=t.name,a=t.account,r=t.cover,c=t.avatar,o=t.followersCount,i=t.followingsCount,s=t.tweetsCount,l=t.receivedLikesCount,u=function(e){return e<1e3?e:(e/1e3).toFixed(1)+"k"};return Object(Y.jsxs)("div",{className:xa.a.container,children:[Object(Y.jsx)("div",{className:xa.a.bgContainer,children:Object(Y.jsx)("img",{src:r,alt:"background"})}),Object(Y.jsx)("div",{className:xa.a.avatarContainer,children:Object(Y.jsx)("img",{src:c,alt:"avatar"})}),Object(Y.jsx)("div",{className:xa.a.buttonContainer}),Object(Y.jsxs)("div",{className:xa.a.textContainer,children:[Object(Y.jsx)("h5",{className:xa.a.name,children:n}),Object(Y.jsxs)("span",{className:xa.a.account,children:["@",a]}),Object(Y.jsx)("p",{}),Object(Y.jsxs)("div",{className:xa.a.iconContainer,children:[Object(Y.jsx)("div",{className:xa.a.icon,children:Object(Y.jsx)(Aa,{})})," ",Object(Y.jsx)("p",{children:u(s)}),Object(Y.jsx)("div",{className:xa.a.icon,children:Object(Y.jsx)(ze,{})})," ",Object(Y.jsx)("p",{children:u(l)})]}),Object(Y.jsxs)("div",{className:xa.a.followGroup,children:[Object(Y.jsxs)("div",{className:xa.a.follow,children:[o,Object(Y.jsx)("p",{children:"\u8ddf\u96a8\u4e2d"})]}),Object(Y.jsxs)("div",{className:xa.a.follow,children:[i,Object(Y.jsx)("p",{children:"\u8ddf\u96a8\u8005"})]})]})]})]})}),Ma=n(198),Sa=n.n(Ma),La=function(e){var t=e.userId,n=Object(i.useState)([]),a=Object(p.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va();case 2:t=e.sent,console.log(t),t&&c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(Y.jsx)("div",{className:Sa.a.adminUserContainer,children:r.map((function(e){return e.id?Object(Y.jsx)(Ua,{user:e,type:"allUserList"},e.id):null}))})},Ta=n(99),Fa=n.n(Ta),Ra=function(){var e="",t=Object(j.m)().pathname;return e="/admin/list"===t?Object(Y.jsx)("div",{className:Fa.a.Header,children:"\u63a8\u6587\u6e05\u55ae"}):t.includes("/admin/user")?Object(Y.jsx)("div",{className:Fa.a.Header,children:"\u4f7f\u7528\u8005\u5217\u8868"}):"",Object(Y.jsx)("div",{className:Fa.a.HeaderContainer,children:e})},Pa=function(){var e=G().user;return Object(Y.jsxs)("div",{className:fa.a.homeContainer,children:[Object(Y.jsx)("div",{className:fa.a.leftColumn,children:Object(Y.jsx)(Oa,{})}),Object(Y.jsxs)("div",{className:fa.a.middleColumn,children:[Object(Y.jsx)(Ra,{}),Object(Y.jsx)(La,{user:e&&e.id})]})]})},Ea=n(80),Za=n.n(Ea),Ha=n(42),Ba=n.n(Ha),Ya=["title","titleId"];function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ja.apply(this,arguments)}function Wa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ga(e,t){var n=e.title,a=e.titleId,r=Wa(e,Ya);return i.createElement("svg",Ja({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,ka||(ka=i.createElement("path",{d:"M13.4141 11.9999L19.2071 6.20687C19.5971 5.81687 19.5971 5.18388 19.2071 4.79288C18.8171 4.40188 18.1841 4.40288 17.7931 4.79288L12.0001 10.5859L6.20712 4.79288C5.81712 4.40288 5.18412 4.40288 4.79312 4.79288C4.40212 5.18288 4.40312 5.81587 4.79312 6.20687L10.5861 11.9999L4.79312 17.7929C4.40312 18.1829 4.40312 18.8159 4.79312 19.2069C4.98812 19.4019 5.24312 19.4999 5.50012 19.4999C5.75712 19.4999 6.01212 19.4019 6.20712 19.2069L12.0001 13.4139L17.7931 19.2069C17.9881 19.4019 18.2431 19.4999 18.5001 19.4999C18.7571 19.4999 19.0121 19.4019 19.2071 19.2069C19.5971 18.8169 19.5971 18.1839 19.2071 17.7929L13.4141 11.9999Z",fill:"#171725"})))}var za=i.forwardRef(Ga);n.p;function Va(e){var t=ot()(),n=ot()(e);return t.diff(n,"hour")<24?n.fromNow():n.format("YYYY/MM/DD")}ot.a.extend(st.a),ot.a.locale("zh-tw");var Xa=function(e){var t=e.tweet,n=e.handleOnDelete,a=t.id,r=t.User,c=void 0===r?{}:r,o=c.name,i=c.account,s=c.avatar,l=t.description,u=t.createdAt,d=l.length>50?l.slice(0,50)+"...":l;return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("div",{className:Ba.a.tweetCardContainer,children:Object(Y.jsxs)("div",{className:Ba.a.tweetCard,children:[Object(Y.jsx)("img",{src:s,className:Ba.a.avatar,alt:"avatar"}),Object(Y.jsxs)("div",{className:Ba.a.contentContainer,children:[Object(Y.jsxs)("div",{className:Ba.a.nameAndUserId,children:[Object(Y.jsx)("span",{className:Ba.a.name,children:o}),Object(Y.jsxs)("span",{className:Ba.a.userIdTime,children:["@",i,"\u30fb",Va(u)]})]}),Object(Y.jsx)("div",{className:Ba.a.tweet,children:d})]}),Object(Y.jsx)("div",{className:Ba.a.closeIcon,children:Object(Y.jsx)("div",{onClick:function(){return n(a)},children:Object(Y.jsx)(za,{})})})]})})})},Da=function(e){var t=e.userId,n=Object(i.useState)([]),a=Object(p.a)(n,2),r=a[0],c=a[1],o=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ca(t);case 3:if(!(n=e.sent)||"success"!==n.status){e.next=8;break}c((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=9;break;case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.error("error while deleting tweet: ",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a();case 2:t=e.sent,console.log(t),t&&c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),r.map((function(e){return e.User?Object(Y.jsx)(Xa,{tweet:e,handleOnDelete:o,type:"alltweet"},e.id):null}))},Qa=function(){return Object(Y.jsx)("div",{className:Za.a.homeContainer,children:Object(Y.jsxs)("div",{className:Za.a.homeColumn,children:[Object(Y.jsx)("div",{className:Za.a.leftColumn,children:Object(Y.jsx)(Oa,{})}),Object(Y.jsxs)("div",{className:Za.a.middleColumn,children:[Object(Y.jsx)(Ra,{}),Object(Y.jsx)(Da,{})]})]})})};var qa=function(){var e=Object(j.r)().id,t=G(),n=t.isAuthenticated,a=t.user,r=Object(j.n)(":id/followers"),c=Object(j.n)(":id/followings");return console.log("userParamas",Object(j.r)()),n&&a?(console.log("id: ".concat(e,", user.id: ").concat(a.id)),r||c?Object(Y.jsx)(la,{}):e===String(a.id)?Object(Y.jsx)(Vn,{}):Object(Y.jsx)(ba,{id:e})):Object(Y.jsx)(Tn,{})},Ka=function(){return Object(Y.jsx)("div",{className:"App",children:Object(Y.jsx)(d.a,{basename:"/AC_twitter_frontend",children:Object(Y.jsx)(z,{children:Object(Y.jsx)(yt,{children:Object(Y.jsxs)(j.d,{children:[Object(Y.jsx)(j.b,{path:"login",element:Object(Y.jsx)(Tn,{})}),Object(Y.jsx)(j.b,{path:"main",element:Object(Y.jsx)(Jn,{})}),Object(Y.jsx)(j.b,{path:"admin",element:Object(Y.jsx)(Pn,{})}),Object(Y.jsx)(j.b,{path:"admin/list",element:Object(Y.jsx)(ma,{children:Object(Y.jsx)(Qa,{})})}),Object(Y.jsx)(j.b,{path:"admin/user",element:Object(Y.jsx)(ma,{children:Object(Y.jsx)(Pa,{})})}),Object(Y.jsx)(j.b,{path:"setting",element:Object(Y.jsx)(Qn,{})}),Object(Y.jsx)(j.b,{path:"register",element:Object(Y.jsx)(Hn,{})}),Object(Y.jsx)(j.b,{path:"tweets/:tweetId",element:Object(Y.jsx)($n,{})}),Object(Y.jsx)(j.b,{path:":id/follow/*",element:Object(Y.jsx)(qa,{})}),Object(Y.jsx)(j.b,{path:":id/*",element:Object(Y.jsx)(qa,{})}),Object(Y.jsx)(j.b,{path:"profile/*",element:Object(Y.jsx)(Vn,{})}),Object(Y.jsx)(j.b,{path:"*",element:Object(Y.jsx)(Jn,{})})]})})})})})},$a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,348)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};u.a.createRoot(document.getElementById("root")).render(Object(Y.jsx)(s.a.StrictMode,{children:Object(Y.jsx)(Ka,{})})),$a()},35:function(e,t,n){e.exports={container:"UserInfo_container__1jUUM",bgContainer:"UserInfo_bgContainer__3eAui",avatarContainer:"UserInfo_avatarContainer__1C5-Z",buttonContainer:"UserInfo_buttonContainer__22QHw",button:"UserInfo_button__ToAt3",textContainer:"UserInfo_textContainer__3E8nS",name:"UserInfo_name__2MXaK",account:"UserInfo_account__3A-Y8",description:"UserInfo_description__ZxLvL",linkGroup:"UserInfo_linkGroup__3Daah",link:"UserInfo_link__2nbCZ"}},36:function(e,t,n){e.exports={HeaderContainer:"Headers_HeaderContainer__2aOm3",imgContainer:"Headers_imgContainer__333ZM",contentContainer:"Headers_contentContainer__17Tes",name:"Headers_name___3nAE",tweetCount:"Headers_tweetCount__3qQNH",Header:"Headers_Header__2gXTr"}},37:function(e,t,n){e.exports={tweetCardContainer:"ReplyCard_tweetCardContainer__2eE3f",tweetCard:"ReplyCard_tweetCard__16hoV",avatar:"ReplyCard_avatar__3qvHN",contentContainer:"ReplyCard_contentContainer__1V5YS",nameAndUserId:"ReplyCard_nameAndUserId__3rJzx",name:"ReplyCard_name__ItwwD",userIdTime:"ReplyCard_userIdTime__3ey5j",tweet:"ReplyCard_tweet__2Dylb",replyContainer:"ReplyCard_replyContainer__2BpFn",reply:"ReplyCard_reply__3yhyd",replyId:"ReplyCard_replyId__3aJTH",countContainer:"ReplyCard_countContainer__1Dozz",count:"ReplyCard_count__1kVGF"}},38:function(e,t,n){e.exports={tweetCardContainer:"ReplyCard_tweetCardContainer__WTV2P",tweetCard:"ReplyCard_tweetCard__20sJm",avatar:"ReplyCard_avatar__3GGA5",contentContainer:"ReplyCard_contentContainer__37h_2",nameAndUserId:"ReplyCard_nameAndUserId__20Ut-",name:"ReplyCard_name__15otc",userIdTime:"ReplyCard_userIdTime__2cH_O",tweet:"ReplyCard_tweet__oXvop",replyContainer:"ReplyCard_replyContainer__2Lm4E",reply:"ReplyCard_reply__1PQzp",replyId:"ReplyCard_replyId__pcqVU",countContainer:"ReplyCard_countContainer__k5dqC",count:"ReplyCard_count__379ry"}},39:function(e,t,n){e.exports={background:"TweetModal_background__25wWP",container:"TweetModal_container__2QuPm",buttonContainer:"TweetModal_buttonContainer__y22zq",ContentContainer:"TweetModal_ContentContainer__1arkd",avatarContainer:"TweetModal_avatarContainer__27fG9",textareaContainer:"TweetModal_textareaContainer__10LjS",small:"TweetModal_small__lHfpB",button:"TweetModal_button__2a6bW"}},41:function(e,t,n){e.exports={homeContainer:"SettingPage_homeContainer__3Ev7O",homeColumn:"SettingPage_homeColumn__1-Icf",leftColumn:"SettingPage_leftColumn__3Whe_",rightColumn:"SettingPage_rightColumn__2i9Xm",middleColumn:"SettingPage_middleColumn__3yfsA",navbarContainer:"SettingPage_navbarContainer__2SaRX",form:"SettingPage_form__T_3Mj",button:"SettingPage_button__1GtmW",settingHeader:"SettingPage_settingHeader__dWW0D"}},42:function(e,t,n){e.exports={tweetCardContainer:"AdminTweetCard_tweetCardContainer__1qiTV",tweetCard:"AdminTweetCard_tweetCard__3VGCl",avatar:"AdminTweetCard_avatar__14LA_",contentContainer:"AdminTweetCard_contentContainer__2y8go",nameAndUserId:"AdminTweetCard_nameAndUserId__AGnzI",name:"AdminTweetCard_name__2HESk",userIdTime:"AdminTweetCard_userIdTime__1rhhq",tweet:"AdminTweetCard_tweet__VPbRd",replyContainer:"AdminTweetCard_replyContainer__2Vr44",reply:"AdminTweetCard_reply__1HDEI",replyId:"AdminTweetCard_replyId__2VGN-",closeIcon:"AdminTweetCard_closeIcon__39x1N"}},45:function(e,t,n){e.exports={form:"LoginPage_form__2IYvQ",container:"LoginPage_container__1e5Zs",title:"LoginPage_title__i3QfT",logo:"LoginPage_logo__29rdm",button:"LoginPage_button__1XPii",linkGroup:"LoginPage_linkGroup__1szUl",link:"LoginPage_link__2qEf8"}},46:function(e,t,n){e.exports={mainPostContainer:"MainPost_mainPostContainer__10RDC",tweetArea:"MainPost_tweetArea__2U_DJ",small:"MainPost_small__26RUJ",avatar:"MainPost_avatar__SNx4h",tweetText:"MainPost_tweetText__3nW22",tweetButton:"MainPost_tweetButton__3yUUR"}},47:function(e,t,n){e.exports={followCardContainer:"FollowCard_followCardContainer__afQyZ",followCard:"FollowCard_followCard__2eKrb",avatar:"FollowCard_avatar__1PHc2",intro:"FollowCard_intro__2RNvP",userInfo:"FollowCard_userInfo__1AzS1",name:"FollowCard_name__32ou-",userName:"FollowCard_userName__uRnXZ",buttonFollowing:"FollowCard_buttonFollowing__3AXRB",buttonFollower:"FollowCard_buttonFollower__3mWfV"}},50:function(e,t,n){e.exports={recommendListContainer:"RecommendItem_recommendListContainer__1E-OH",recommendCard:"RecommendItem_recommendCard__3s6VE",avatar:"RecommendItem_avatar__26n2H",userInfo:"RecommendItem_userInfo__2CtKH",name:"RecommendItem_name__3ifsC",userName:"RecommendItem_userName__27_qZ",buttonFollowing:"RecommendItem_buttonFollowing__34jEk",buttonFollower:"RecommendItem_buttonFollower__1csus"}},51:function(e,t,n){e.exports={form:"AdminLoginPage_form__miH53",container:"AdminLoginPage_container__1kneg",title:"AdminLoginPage_title__1mb-1",logo:"AdminLoginPage_logo__1fvHT",button:"AdminLoginPage_button__212eM",linkGroup:"AdminLoginPage_linkGroup__1XGx9",link:"AdminLoginPage_link__Tz078"}},52:function(e,t,n){e.exports={form:"RegisterPage_form__36VnA",container:"RegisterPage_container__-Z7s-",title:"RegisterPage_title__1Uzta",logo:"RegisterPage_logo__2e3DN",button:"RegisterPage_button__apXrK",linkGroup:"RegisterPage_linkGroup__3bqvg",link:"RegisterPage_link__1XPox"}},64:function(e,t,n){e.exports={homeContainer:"HomePage_homeContainer__356UC",homeColumn:"HomePage_homeColumn__1K36L",leftColumn:"HomePage_leftColumn__3W9RN",rightColumn:"HomePage_rightColumn__3rIOx",middleColumn:"HomePage_middleColumn__2M6Ir"}},65:function(e,t,n){e.exports={profielContainer:"ProfilePage_profielContainer__3K58e",homeContainer:"ProfilePage_homeContainer__1rpOL",homeColumn:"ProfilePage_homeColumn__1B5Yk",leftColumn:"ProfilePage_leftColumn__1D5JO",rightColumn:"ProfilePage_rightColumn__KxA8L",middleColumn:"ProfilePage_middleColumn__1yAIn"}},66:function(e,t,n){e.exports={replyContainer:"ReplyPage_replyContainer__1-0ni",homeColumn:"ReplyPage_homeColumn__33FpD",leftColumn:"ReplyPage_leftColumn__13XRv",rightColumn:"ReplyPage_rightColumn__j14KR",middleColumn:"ReplyPage_middleColumn__1lTl2"}},67:function(e,t,n){e.exports={followContainer:"FollowPage_followContainer__3dCSz",homeColumn:"FollowPage_homeColumn__2KAte",leftColumn:"FollowPage_leftColumn__3vD4W",rightColumn:"FollowPage_rightColumn__r5-wt",middleColumn:"FollowPage_middleColumn__3PBFV"}},68:function(e,t,n){e.exports={profielContainer:"OtherProfilePage_profielContainer__1kfWH",homeColumn:"OtherProfilePage_homeColumn__1WAaO",leftColumn:"OtherProfilePage_leftColumn__sDP3o",rightColumn:"OtherProfilePage_rightColumn__1J_zM",middleColumn:"OtherProfilePage_middleColumn__2dHQs"}},80:function(e,t,n){e.exports={homeContainer:"AdminHomePage_homeContainer__faUg5",homeColumn:"AdminHomePage_homeColumn__1kJcK",leftColumn:"AdminHomePage_leftColumn__2OsGr",rightColumn:"AdminHomePage_rightColumn__LaeRc",middleColumn:"AdminHomePage_middleColumn__b0Hrt"}},97:function(e,t,n){e.exports={recommendListContainer:"RecommendList_recommendListContainer__XcbVG",recommendCard:"RecommendList_recommendCard__UK_ze",avatar:"RecommendList_avatar__3fBsa",userInfo:"RecommendList_userInfo__2wuck",name:"RecommendList_name__153sw",userName:"RecommendList_userName__1pnth",buttonFollowing:"RecommendList_buttonFollowing__36vMz",buttonFollower:"RecommendList_buttonFollower__1rvLI",RecommendHeader:"RecommendList_RecommendHeader__1JkBz"}},98:function(e,t,n){e.exports={homeContainer:"AdminUserPage_homeContainer__d87J3",homeColumn:"AdminUserPage_homeColumn__3z15m",leftColumn:"AdminUserPage_leftColumn__3Zv2M",middleColumn:"AdminUserPage_middleColumn__8AAvf"}},99:function(e,t,n){e.exports={HeaderContainer:"Headers_HeaderContainer__3u5GM",imgContainer:"Headers_imgContainer__1qtIJ",contentContainer:"Headers_contentContainer__1o1Ke",name:"Headers_name__1Hln_",tweetCount:"Headers_tweetCount__2yLdH",Header:"Headers_Header__3Jjjs"}}},[[347,1,2]]]);
//# sourceMappingURL=main.44e852df.chunk.js.map